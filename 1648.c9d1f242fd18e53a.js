(self.webpackChunkcd_moduleman=self.webpackChunkcd_moduleman||[]).push([[1648],{2877:(E,_,l)=>{l.d(_,{S:()=>d});var a=l(467),F=l(327),e=l(3425),I=l(2264),s=l(4178),f=l(8788);let d=(()=>{class t{svMenu;svModule;svModman;constructor(c,m,h){this.svMenu=c,this.svModule=m,this.svModman=h}loadDdls(c,m){var h=this;return(0,a.A)(function*(){F.M9.token=c.token,F.M9.step=m,F.M9.controlName="moduleId",F.M9.getFn$=h.svModule.getModule$(F.lw,c.token),yield h.svModman.setDdl$(yield F.M9).subscribe(M=>{console.log("menu/MenuModService::loadDdls()/ret(modules):",M),m.fields.forEach(b=>{"moduleId"===b.name&&(b.ddlInfo.data=M)})}),e.Bx.token=c.token,e.Bx.step=m,e.Bx.controlName="menuParentId",e.Bx.getFn$=h.svMenu.getMenuList$(e.EG,c.token),yield h.svModman.setDdl$(yield e.Bx).subscribe(M=>{console.log("menu/MenuModService::loadDdls()/ret(menus):",M),m.fields.forEach(b=>{"menuParentId"===b.name&&(b.ddlInfo.data=M)})})})()}setCdObj(c,m,h){console.log("MenuModService::setCdObj()/fg:",c);const M=c.controls.moduleId.value;console.log("MenuModService::setCdObj()/moduleId:",M);const b=m.getDdlData("moduleId",e.v4);console.log("MenuModService::setCdObj()/modules:",b);const C=b.filter((S,A)=>S.moduleId===M?S:null);console.log("MenuModService::setCdObj()/selectedModule:",C);let g=null;C.length>0&&(g=C[0].moduleGuid),console.log("MenuModService::setCdObj()/moduleGuid:",g),g&&(h.cdObj={cdObjName:c.controls.menuName.value,cdObjTypeGuid:"f5df4494-5cc9-4463-8e8e-c5861703280e",parentModuleGuid:g,cdObjDispName:null,icon:null,showIcon:null,cdObjEnabled:null})}static \u0275fac=function(m){return new(m||t)(I.\u0275\u0275inject(s.MenuService),I.\u0275\u0275inject(s.ModuleService),I.\u0275\u0275inject(f.O))};static \u0275prov=I.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},3425:(E,_,l)=>{l.d(_,{AV:()=>d,Bx:()=>h,EG:()=>m,Fl:()=>M,PG:()=>i,gb:()=>t,v4:()=>f,yr:()=>c});var a=l(2952),e=l(4178),v=l(4866);const p=new e.FormsService,f=[{title:"ID",name:"menuId",dbName:"menu_id",type:e.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"number",disabled:!0,formControlsConfig:["",[]]},{title:"Guid",name:"menuGuid",dbName:"menu_guid",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Label",name:"menuLabel",dbName:"menu_label",type:e.FieldType.string,fetchable:!0,updateable:!1,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Name",name:"menuName",dbName:"menu_name",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[a.Validators.minLength(3),a.Validators.maxLength(25),a.Validators.required]]},{title:"MenuParent",name:"menuParentId",dbName:"menu_parent_id",type:e.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.searchDropDown,fieldFor:e.FieldFor.createForm}],ddlInfo:{selData$:(0,v.of)([]),selValueField:"menuName",selIndex:"menuId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[a.Validators.required]]},{title:"ModuleParent",name:"moduleId",dbName:"module_id",primaryField:"menuParent",type:e.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.searchDropDown,fieldFor:e.FieldFor.createForm}],ddlInfo:{selData$:(0,v.of)([]),selValueField:"moduleName",selIndex:"moduleId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[a.Validators.required]]},{title:"Description",name:"menuDescription",dbName:"menu_description",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.textArea,fieldFor:e.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[a.Validators.minLength(0),a.Validators.maxLength(300)]]},{title:"Icon",name:"menuIcon",dbName:"menu_icon",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.ddlIcons,fieldFor:e.FieldFor.createForm}],ddlInfo:{selData$:(0,v.of)([]),selValueField:"iconName",selIndex:"iconId",selPlaceholder:"...choose",ddlIconId:"iconDdlIdX",searchInputId:"searchInputIdX",searchInputName:"searchInputNameX",selectedValue:"",data:null},formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[a.Validators.minLength(2),a.Validators.maxLength(50),a.Validators.required]]},{title:"Path",name:"path",dbName:"path",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm}],formatt:"text",formControlsConfig:["",[a.Validators.minLength(3),a.Validators.maxLength(100),a.Validators.required]]},{title:"Action",name:"action",type:e.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:e.ControlType.action,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.action,fieldFor:e.FieldFor.createForm}],Fn:"createMenu"},{title:"Search",name:"iconSearch",type:e.FieldType.any,controls:[],formControlsConfig:["",[]]}],d={data:{},cdObj:null,valid:null,ctx:"Sys"},t=[{toReplace:"menuLabel",replaceWith:"menuName"}],i={token:"",stepTitle:"Create Menu",stepItems:{prevButtonId:"stepToModule",lastButtonId:"endSteps"},tabPaneId:"menuInfo",cardTitle:"Menu Information",cardTitleDesc:"Every module has to have at least one menu item. You can use the + button to add more items.",module:"moduleman",controller:"menu",formGroup:null,fields:p.filterByFieldFor(f,e.FieldFor.createForm)},c={name:"Menu Wizard",steps:[i]},m={select:["menuId","menuName","menuGuid"],where:{}},h={getFn$:null,selIndex:m.select[0],selValueField:m.select[1],fetchFields:m.select,step:null,token:null,controlName:"menuParentId"},M=[{menuName:"create",menuGuid:"bd9b5bda6ab",navLocation:"/moduleman/menu/create",actionType:e.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db69c1",navLocation:"/moduleman/menu/dashboard",actionType:e.ActionType.navigate}]},5619:(E,_,l)=>{l.r(_),l.d(_,{MenuModule:()=>O});var a=l(9354),F=l(2952),e=l(1475),I=l(4939),v=l(6758),s=l(4178),p=l(777),f=l(5662),d=l(3425),t=l(2264);let i=(()=>{class u{aRoute;router;svMenu;svNazTable;svAcl;svForms;svPage;svSess;baseModel;dSource={fields:[],data:[]};cardTitle="Menu";cardBodyId="cdMenu";searchInputId="inputSearchMenu";editRoute="/moduleman/menu/edit";deleteRoute="/moduleman/menu/delete";createRoute="/moduleman/menu/create";filter={};nazTable;dsEmittData;sQuery;tpData=s.DEFAULT_TPD;ddlData=d.Fl;constructor(n,o,r,y,T,D,P,N){this.aRoute=n,this.router=o,this.svMenu=r,this.svNazTable=y,this.svAcl=T,this.svForms=D,this.svPage=P,this.svSess=N,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(n=>{n&&this.svAcl.initComponent(n,this,this.svSess).then(o=>{})})}init(){this.baseModel=new s.BaseModel(d.PG.module,d.PG.controller),this.baseModel.data.fields=d.v4.filter(n=>n.fetchable||n.type===s.FieldType.action),this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs("Menu","List"),this.sQuery=this.svNazTable.initSQuery(this),this.dsEmittData=this.svNazTable.initEmittData(this)}execQuery(n){this.svNazTable.execQuery(n,this.svMenu.getMenuList$(this.sQuery,this.baseModel.sess.cd_token),this)}setSearchQuery(n){this.sQuery=n.sQuery,this.execQuery(n)}getSelect(){return this.baseModel.data.fields.filter(n=>n.fetchable).map(n=>n.name)}static \u0275fac=function(o){return new(o||u)(t.\u0275\u0275directiveInject(f.ActivatedRoute),t.\u0275\u0275directiveInject(f.Router),t.\u0275\u0275directiveInject(s.MenuService),t.\u0275\u0275directiveInject(p.NazTableService),t.\u0275\u0275directiveInject(s.AclService),t.\u0275\u0275directiveInject(s.FormsService),t.\u0275\u0275directiveInject(p.PageService),t.\u0275\u0275directiveInject(s.SessService))};static \u0275cmp=t.\u0275\u0275defineComponent({type:u,selectors:[["app-list"]],viewQuery:function(o,r){if(1&o&&t.\u0275\u0275viewQuery(p.NazTableComponent,5),2&o){let y;t.\u0275\u0275queryRefresh(y=t.\u0275\u0275loadQuery())&&(r.nazTable=y.first)}},decls:1,vars:9,consts:[[3,"searchQuery","baseModel","cardTitle","searchInputId","cardBodyId","tpData","filter","ddlData","editRoute","deleteRoute"]],template:function(o,r){1&o&&(t.\u0275\u0275elementStart(0,"naz-table",0),t.\u0275\u0275listener("searchQuery",function(T){return r.setSearchQuery(T)}),t.\u0275\u0275elementEnd()),2&o&&t.\u0275\u0275property("baseModel",r.baseModel)("cardTitle",r.cardTitle)("searchInputId",r.searchInputId)("cardBodyId",r.cardBodyId)("tpData",r.tpData)("filter",r.filter)("ddlData",r.ddlData)("editRoute",r.editRoute)("deleteRoute",r.deleteRoute)}})}return u})();var c=l(467);let m=(()=>{class u{aRoute;router;svMenu;svSess;svAcl;svNotif;baseModel;fieldsAlias=d.gb;formConfig={};backRoute="/moduleman/menu/list";updateQuery;constructor(n,o,r,y,T,D){this.aRoute=n,this.router=o,this.svMenu=r,this.svSess=y,this.svAcl=T,this.svNotif=D,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(n=>{this.svAcl.initComponent(n,this,this.svSess).then(o=>{})})}init(){this.baseModel=new s.BaseModel(d.PG.module,d.PG.controller),this.baseModel.breadCrumbItems=[{label:"Menu"},{label:"Edit",active:!0}],this.baseModel.data.subTitle="only allowed fields are editable"}update(n){var o=this;return(0,c.A)(function*(){o.svMenu.updateMenu$(n,o.baseModel.token).subscribe(r=>{o.svNotif.emitNotif({pushData:{appId:"",appSockets:[],pushGuid:"",m:null,pushRecepients:s.DEFAULT_PUSH_RECEPIENTS,emittEvent:"push-notif",triggerEvent:"send-notif",token:"",commTrack:{initTime:null,relayTime:null,pushed:!1,pushTime:null,relayed:!1,deliveryTime:null,delivered:!1,completed:!1,completedTime:null,cached:!1,cachedTime:null,saved:!1,savedTime:null},isNotification:null,isAppInit:null},req:null,resp:null})})})()}static \u0275fac=function(o){return new(o||u)(t.\u0275\u0275directiveInject(f.ActivatedRoute),t.\u0275\u0275directiveInject(f.Router),t.\u0275\u0275directiveInject(s.MenuService),t.\u0275\u0275directiveInject(s.SessService),t.\u0275\u0275directiveInject(s.AclService),t.\u0275\u0275directiveInject(s.NotificationService))};static \u0275cmp=t.\u0275\u0275defineComponent({type:u,selectors:[["app-edit"]],decls:1,vars:4,consts:[[3,"updateQuery","baseModel","pageDescription","formConfig","fieldsAlias","backRoute"]],template:function(o,r){1&o&&(t.\u0275\u0275elementStart(0,"naz-table-edit",0),t.\u0275\u0275listener("updateQuery",function(T){return r.update(T)}),t.\u0275\u0275elementEnd()),2&o&&t.\u0275\u0275property("baseModel",r.baseModel)("formConfig",r.formConfig)("fieldsAlias",r.fieldsAlias)("backRoute",r.backRoute)},dependencies:[p.EditComponent]})}return u})(),h=(()=>{class u{aRoute;router;svMenu;svAcl;svNotif;svSess;baseModel;backRoute="/moduleman/menu/list";updateQuery;formConfig={};deleteQuery;constructor(n,o,r,y,T,D){this.aRoute=n,this.router=o,this.svMenu=r,this.svAcl=y,this.svNotif=T,this.svSess=D,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(n=>{this.svAcl.initComponent(n,this,this.svSess).then(o=>{})})}init(){this.baseModel=new s.BaseModel(d.PG.module,d.PG.controller),this.baseModel.breadCrumbItems=[{label:"Menu"},{label:"Delete",active:!0}],this.baseModel.data.subTitle="confirm before delete"}deleteItem(n){var o=this;return(0,c.A)(function*(){o.svMenu.deleteMenu$(n,o.baseModel.token).subscribe(r=>{o.svNotif.emitNotif({pushData:{appId:"",appSockets:[],pushGuid:"",m:null,pushRecepients:s.DEFAULT_PUSH_RECEPIENTS,emittEvent:"push-notif",triggerEvent:"send-notif",token:"",commTrack:{initTime:null,relayTime:null,pushed:!1,pushTime:null,relayed:!1,deliveryTime:null,delivered:!1,completed:!1,completedTime:null,cached:!1,cachedTime:null,saved:!1,savedTime:null},isNotification:null,isAppInit:null},req:null,resp:null})})})()}static \u0275fac=function(o){return new(o||u)(t.\u0275\u0275directiveInject(f.ActivatedRoute),t.\u0275\u0275directiveInject(f.Router),t.\u0275\u0275directiveInject(s.MenuService),t.\u0275\u0275directiveInject(s.AclService),t.\u0275\u0275directiveInject(s.NotificationService),t.\u0275\u0275directiveInject(s.SessService))};static \u0275cmp=t.\u0275\u0275defineComponent({type:u,selectors:[["app-delete"]],decls:1,vars:2,consts:[[3,"deleteQuery","baseModel","pageDescription","formConfig"]],template:function(o,r){1&o&&(t.\u0275\u0275elementStart(0,"naz-table-delete",0),t.\u0275\u0275listener("deleteQuery",function(T){return r.deleteItem(T)}),t.\u0275\u0275elementEnd()),2&o&&t.\u0275\u0275property("baseModel",r.baseModel)("formConfig",r.formConfig)},dependencies:[p.DeleteComponent]})}return u})();var M=l(327),b=l(2877),C=l(8788);const A=[{path:"list",component:i},{path:"edit",component:m},{path:"delete",component:h},{path:"create",component:(()=>{class u{aRoute;router;svModule;svMenu;svMenuFront;svAcl;svForm;svNotif;fb;svForms;svModman;svPage;svPush;svSess;baseModel;newMenu=d.AV;menuData;wizardModel=d.yr;newModule=M.VP;moduleStep;cdObjData;constructor(n,o,r,y,T,D,P,N,j,L,B,w,x,U){this.aRoute=n,this.router=o,this.svModule=r,this.svMenu=y,this.svMenuFront=T,this.svAcl=D,this.svForm=P,this.svNotif=N,this.fb=j,this.svForms=L,this.svModman=B,this.svPage=w,this.svPush=x,this.svSess=U,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(n=>{this.svAcl.initComponent(n,this,this.svSess).then(o=>{o&&(this.svPush.init(this),this.baseModel.data.step.token=this.baseModel.token)})})}ngAfterViewInit(){this.svMenuFront.loadDdls(this.baseModel,this.baseModel.data.step).then(n=>{console.log("menu/CreateComponent::ngAfterViewInit()/this.baseModel.controllerRoutes:",this.baseModel.controllerRoutes)}),this.svModman.setIconsData$(this.baseModel.data.step,"icon")}init(){this.baseModel=new s.BaseModel(d.PG.module,d.PG.controller),this.baseModel.data.fields=this.svForms.filterByFieldFor(d.v4,s.FieldFor.createForm),this.baseModel.data.wizardModel=d.yr,this.baseModel.data.step=this.svForms.filterStepsByController(this.baseModel.data.wizardModel,"menu")[0],this.baseModel.data.form=this.fb.group(this.svForm.getFormControlConfig(d.v4)),this.baseModel.data.step.formGroup=this.baseModel.data.form,this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs("Menu","Create")}setSelectedIcon(n){this.svForm.setSelectedIcon(n,this.baseModel,this.baseModel.data.step)}save(n){let o;switch(n.controller){case"module":break;case"menu":this.svMenuFront.setCdObj(n.formGroup,this.svForm,this.newMenu),o=this.svMenu.createMenu$(this.newMenu,this.baseModel.token),this.svForm.saveForm(n,this.newMenu,o,this.svPush.pushEnvelop,this.svNotif)}}finishFunction(){console.log("finishing!!")}static \u0275fac=function(o){return new(o||u)(t.\u0275\u0275directiveInject(f.ActivatedRoute),t.\u0275\u0275directiveInject(f.Router),t.\u0275\u0275directiveInject(s.ModuleService),t.\u0275\u0275directiveInject(s.MenuService),t.\u0275\u0275directiveInject(b.S),t.\u0275\u0275directiveInject(s.AclService),t.\u0275\u0275directiveInject(s.FormsService),t.\u0275\u0275directiveInject(s.NotificationService),t.\u0275\u0275directiveInject(F.FormBuilder),t.\u0275\u0275directiveInject(s.FormsService),t.\u0275\u0275directiveInject(C.O),t.\u0275\u0275directiveInject(p.PageService),t.\u0275\u0275directiveInject(s.CdPushService),t.\u0275\u0275directiveInject(s.SessService))};static \u0275cmp=t.\u0275\u0275defineComponent({type:u,selectors:[["app-create"]],decls:1,vars:2,consts:[[3,"saveEmitter","relaySelIconEmitter","baseModel","wizardModel"]],template:function(o,r){1&o&&(t.\u0275\u0275elementStart(0,"naz-table-create",0),t.\u0275\u0275listener("saveEmitter",function(T){return r.save(T)})("relaySelIconEmitter",function(T){return r.setSelectedIcon(T)}),t.\u0275\u0275elementEnd()),2&o&&t.\u0275\u0275property("baseModel",r.baseModel)("wizardModel",r.wizardModel)},dependencies:[p.CreateComponent]})}return u})()},{path:"dashboard",component:(()=>{class u{constructor(){}ngOnInit(){}static \u0275fac=function(o){return new(o||u)};static \u0275cmp=t.\u0275\u0275defineComponent({type:u,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(o,r){1&o&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1,"dashboard works!"),t.\u0275\u0275elementEnd())}})}return u})()}];let R=(()=>{class u{static \u0275fac=function(o){return new(o||u)};static \u0275mod=t.\u0275\u0275defineNgModule({type:u});static \u0275inj=t.\u0275\u0275defineInjector({imports:[f.RouterModule.forChild(A),f.RouterModule]})}return u})(),O=(()=>{class u{static \u0275fac=function(o){return new(o||u)};static \u0275mod=t.\u0275\u0275defineNgModule({type:u});static \u0275inj=t.\u0275\u0275defineInjector({imports:[a.CommonModule,R,F.FormsModule,F.ReactiveFormsModule,e.NgbNavModule,e.NgbDropdownModule,e.NgbTooltipModule,e.NgbAccordionModule,I.FilterPipeModule,p.NazUiModule,p.NazTableModule,p.NazCreateModule,p.NazEditModule,p.NazDeleteModule,s.BaseModule.forChild(v.c),s.CdPushModule.forChild(v.c)]})}return u})()},327:(E,_,l)=>{l.d(_,{AQ:()=>f,Fl:()=>m,M9:()=>M,VP:()=>d,ad:()=>i,lw:()=>h,n4:()=>c,o0:()=>p});var a=l(2952),e=l(4178),v=l(3425);const s=new e.FormsService,p=[{title:"ID",name:"moduleId",dbName:"module_id",type:e.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"number",disabled:!0},{title:"Guid",name:"moduleGuid",dbName:"module_guid",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"moduleName",dbName:"module_name",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[a.Validators.minLength(4),a.Validators.maxLength(20),a.Validators.required]]},{title:"Description",name:"moduleDescription",dbName:"module_description",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.textArea,fieldFor:e.FieldFor.createForm}],formatt:"textArea",savable:!0,formControlsConfig:["",[a.Validators.minLength(0),a.Validators.maxLength(300)]]},{title:"Enabled",name:"moduleEnabled",dbName:"module_enabled",type:e.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.status,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Sys",name:"isSysModule",dbName:"is_sys_module",type:e.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.status,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[a.Validators.required]]},{title:"System Module",name:"isSys",controls:[{controlType:e.ControlType.toggleSwitch,fieldFor:e.FieldFor.createForm}],primaryField:"isSysModule",formControlsConfig:["",[]]},{title:"App Module",name:"isApp",controls:[{controlType:e.ControlType.toggleSwitch,fieldFor:e.FieldFor.createForm}],primaryField:"isSysModule",formControlsConfig:["",[]]},{title:"Action",name:"action",type:e.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:e.ControlType.action,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.action,fieldFor:e.FieldFor.tableDisplay}]}],f={controllerName:"isSysModule",selectedItem:{index:0,optControlId:"",value:"",selected:!1},controlTypes:e.ControlType.toggleSwitch,options:[{index:0,optControlId:"isSys",value:"isSys",selected:!0},{index:1,optControlId:"isApp",value:"isApp",selected:!1}]},d={valid:null,data:{},ctx:"Sys"},i={token:"",stepTitle:"Create Module",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"moduleInfo",cardTitle:"Module Information",cardTitleDesc:"Fill all information below",module:"moduleman",controller:"module",formGroup:null,fields:s.filterByFieldFor(p,e.FieldFor.createForm)},c={name:"Module Wizard",steps:[i,v.PG]},m=[{menuName:"create",menuGuid:"bd9b5bda5ab",navLocation:"/moduleman/module/create",actionType:e.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db59c1",navLocation:"/moduleman/module/dashboard",actionType:e.ActionType.navigate}],h={select:["moduleId","moduleName","moduleGuid"],where:{}},M={getFn$:null,selIndex:h.select[0],selValueField:h.select[1],fetchFields:h.select,step:null,token:null,controlName:"moduleId"}},8788:(E,_,l)=>{l.d(_,{O:()=>f});var a=l(4178),e=l(4866),v=l(2264);let f=(()=>{class d{svMenu;svNotif;svForm;token;ddlData={config:{suppressScrollX:!0,wheelSpeed:.3},header:{title:{lable:"Notifications",cls:"",action:null},sideLink:{lable:"View All",cls:"",action:null}},footer:{label:"View All",icon:"",action:null},data:[{label:"item 1",description:"If several languages coalesce the grammar",time:"3 min ago"},{label:"item 2",description:"It will seem like simplified English",time:"1 hr ago"},{label:"item 3",description:"If several languages coalesce the grammar",time:"4 hr ago"}]};pushEnvelop={pushData:{appId:"",appSockets:[],pushGuid:"",m:null,pushRecepients:a.DEFAULT_PUSH_RECEPIENTS,emittEvent:"push-notif",triggerEvent:"send-notif",token:"",commTrack:{initTime:null,relayTime:null,pushed:!1,pushTime:null,relayed:!1,deliveryTime:null,delivered:!1,completed:!1,completedTime:null,cached:!1,cachedTime:null,saved:!1,savedTime:null},isNotification:null,isAppInit:null},req:null,resp:null};numericNumberReg1="^-?[0-9]\\d*(\\.\\d{1,2})?$";numericNumberReg2="/^[0-9]d*$/";numericNumberReg3=new RegExp(/^-?[0-9]\\d*(\\.\\d{1,2})?$/,"i");numericNumberReg4=new RegExp(/^[0-9]\d*$/,"i");constructor(i,c,m){this.svMenu=i,this.svNotif=c,this.svForm=m}setIconsData$(i,c){i.fields.map((m,h)=>{m.name===c&&(i.fields[h].ddlInfo.selData$=(0,e.of)(this.ddlData),i.fields[h].ddlInfo.selIndex="iconId",i.fields[h].ddlInfo.selValueField="iconName",i.fields[h].ddlInfo.selPlaceholder="...Choose")})}setDdl$(i){if(i.token){const c=new e.Subject;let m=[];return i.getFn$.subscribe(h=>{const M=h;console.log("ModulemanService::setDdl$()/response:",M),console.log("ModulemanService::setDdl$()/ddlCtx.step.fields:",i.step),M.app_state.success?(m=M.data.items,i.step.fields.map((b,C)=>{console.log("ModulemanService::setDdl$()/f.name1:",b.name),console.log("ModulemanService::setDdl$()/ddlCtx.controlName:",i.controlName),console.log("ModulemanService::setDdl$()/f:",b),b.name===i.controlName&&"ddlInfo"in b&&(console.log("ModulemanService::setDdl$()/f.name2:",b.name),i.step.fields[C].ddlInfo.selData$=(0,e.of)(M.data.items),i.step.fields[C].ddlInfo.selIndex=i.selIndex,i.step.fields[C].ddlInfo.selValueField=i.selValueField,i.step.fields[C].ddlInfo.selPlaceholder="...Choose")}),c.next(m)):(this.pushEnvelop.resp=M,this.svNotif.emitNotif(this.pushEnvelop),c.next(m))}),c.asObservable()}return(0,e.of)([])}static \u0275fac=function(c){return new(c||d)(v.\u0275\u0275inject(a.MenuService),v.\u0275\u0275inject(a.NotificationService),v.\u0275\u0275inject(a.FormsService))};static \u0275prov=v.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},6758:(E,_,l)=>{l.d(_,{c:()=>p});const a="https://cd-api.co.ke",p={appId:"",production:!1,apiEndpoint:`${a}:3001/api`,sioEndpoint:`${a}:3002`,wsEndpoint:"ws://cd-api.co.ke:3000",wsMode:"wss",pushConfig:{sio:{enabled:!0},wss:{enabled:!1},pusher:{enabled:!0,apiKey:"DtVRY9V5j41KwSxKrd8L_dRijUJh9gVcqwBH5wb96no",options:{cluster:"ap2",forceTLS:!0,userAuthentication:{endpoint:"https://cd-api.co.ke:3002/pusher/auth",transport:"ajax",params:{},headers:{},includeCredentials:!0,customHandler:null},channelAuthorization:{endpoint:"https://cd-api.co.ke:3002/pusher/auth"},authEndpoint:"https://cd-api.co.ke:3002/pusher/auth"}}},CD_PORT:3001,consumerToken:"B0B3DA99-1859-A499-90F6-1E3F69575DCD",clientContext:{entity:"ASDAP",clientAppId:2,consumerToken:"B0B3DA99-1859-A499-90F6-1E3F69575DCD"},USER_RESOURCES:"http://routed-93/user-resources",apiHost:"https://cd-api.co.ke",sioHost:"https://cd-api.co.ke",shellHost:"https://asdap.net",consumer:"",clientAppGuid:"ca0fe39f-92b2-484d-91ef-487d4fc462a2",clientAppId:2,SOCKET_IO_PORT:3002,defaultauth:"cd-auth",mfManifestPath:"/assets/mf.manifest.json",apiOptions:{headers:{"Content-Type":"application/json"}},sioOptions:{path:"/socket.io",transports:["websocket","polling"],secure:!0},firebaseConfig:{apiKey:"",authDomain:"",databaseURL:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""}}},467:(E,_,l)=>{function a(e,I,v,s,p,f,d){try{var t=e[f](d),i=t.value}catch(c){return void v(c)}t.done?I(i):Promise.resolve(i).then(s,p)}function F(e){return function(){var I=this,v=arguments;return new Promise(function(s,p){var f=e.apply(I,v);function d(i){a(f,s,p,d,t,"next",i)}function t(i){a(f,s,p,d,t,"throw",i)}d(void 0)})}}l.d(_,{A:()=>F})}}]);
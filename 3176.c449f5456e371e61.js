(self.webpackChunkcd_moduleman=self.webpackChunkcd_moduleman||[]).push([[3176],{4689:(_,T,r)=>{r.d(T,{Fl:()=>v,Vs:()=>f,dQ:()=>t,dg:()=>b,e4:()=>s,gh:()=>i,in:()=>n,kd:()=>y,lu:()=>u});var o=r(2952),e=r(4178),p=r(4866);const F=new e.FormsService,f=[{title:"ID",name:"companyId",dbName:"company_id",type:e.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"alphanum"},{title:"Guid",name:"companyGuid",dbName:"company_guid",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"companyName",dbName:"company_name",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[o.Validators.minLength(3),o.Validators.maxLength(80),o.Validators.required]]},{title:"Tags",name:"searchTags",dbName:"search_tags",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.textArea,fieldFor:e.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[o.Validators.minLength(0),o.Validators.maxLength(300)]]},{title:"CompanyType",name:"companyTypeGuid",dbName:"company_type_guid",type:e.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.searchDropDown,fieldFor:e.FieldFor.createForm}],ddlInfo:{selData$:(0,p.of)([]),selValueField:"companyName",selIndex:"companyTypeGuid",selPlaceholder:"...Choose",data:null},formatt:"text",disabled:!0,savable:!0,formControlsConfig:["",[o.Validators.minLength(3),o.Validators.maxLength(42),o.Validators.required]]},{title:"Postal",name:"postalAddress",dbName:"postal_address",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[o.Validators.minLength(1),o.Validators.maxLength(20),o.Validators.required]]},{title:"Phone",name:"phone",dbName:"phone",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[o.Validators.minLength(8),o.Validators.maxLength(80),o.Validators.required]]},{title:"Mobile",name:"mobile",dbName:"mobile",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[o.Validators.minLength(8),o.Validators.maxLength(24),o.Validators.required]]},{title:"Email",name:"email",dbName:"email",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[o.Validators.pattern(e.EMAIL_PATTERN),o.Validators.required]]},{title:"Website",name:"website",dbName:"website",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[o.Validators.pattern(e.URL_PATTERN),o.Validators.required]]},{title:"City",name:"city",dbName:"city",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[o.Validators.minLength(3),o.Validators.maxLength(20),o.Validators.required]]},{title:"Country",name:"country",dbName:"country",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[o.Validators.minLength(3),o.Validators.maxLength(20),o.Validators.required]]},{title:"Location",name:"physicalLocation",dbName:"physical_location",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[o.Validators.minLength(1),o.Validators.maxLength(80),o.Validators.required]]},{title:"Logo",name:"logo",dbName:"logo",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[o.Validators.minLength(3),o.Validators.maxLength(20),o.Validators.required]]},{title:"Enabled",name:"companyEnabled",dbName:"company_enabled",type:e.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.status,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Action",name:"action",type:e.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:e.ControlType.action,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.action,fieldFor:e.FieldFor.createForm}],Fn:"createCompany"},{title:"Search",name:"iconSearch",type:e.FieldType.any,controls:[],formControlsConfig:["",[]]}],n={data:{},valid:null,ctx:"Sys"},u={token:"",stepTitle:"Create Company",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"companyInfo",cardTitle:"Company Information",cardTitleDesc:"Fill all information below",module:"Moduleman",controller:"Company",formGroup:null,fields:F.filterByFieldFor(f,e.FieldFor.createForm)},i={name:"Company Wizard",steps:[u]},s={select:["companyId","companyName","companyGuid"],where:{}},t={getFn$:null,selIndex:s.select[0],selValueField:s.select[1],fetchFields:s.select,step:null,token:null,controlName:"companyId"},y={select:["companyTypeId","companyTypeName","companyTypeGuid"],where:{}},b={getFn$:null,selIndex:y.select[2],selValueField:y.select[1],fetchFields:y.select,step:null,token:null,controlName:"companyTypeGuid"},v=[{menuName:"create",menuGuid:"bd9b5bda5ab",navLocation:"/moduleman/company/create",actionType:e.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db59c1",navLocation:"/moduleman/company/dashboard",actionType:e.ActionType.navigate}]},3176:(_,T,r)=>{r.r(T),r.d(T,{CompanyModule:()=>V});var o=r(9354),I=r(2952),e=r(6393),C=r(1475),p=r(4939),g=r(5425),F=r(8351),f=r(6758),n=r(4178),u=r(777),i=r(5662),s=r(4689),t=r(2264);let y=(()=>{class c{aRoute;router;svBase;svNazTable;svAcl;svPage;svSess;baseModel;dSource={fields:[],data:[]};cardTitle="Company";cardBodyId="company";searchInputId="inputSearchCompany";filter={};nazTable;dsEmittData;sQuery;tpData=n.DEFAULT_TPD;ddlData=s.Fl;constructor(a,l,d,m,h,M,D){this.aRoute=a,this.router=l,this.svBase=d,this.svNazTable=m,this.svAcl=h,this.svPage=M,this.svSess=D,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(a=>{a&&this.svAcl.initComponent(a,this,this.svSess).then(l=>{})})}init(){this.baseModel=new n.BaseModel(s.lu.module,s.lu.controller),this.svBase.module=s.lu.module,this.svBase.controller=s.lu.controller,this.baseModel.data.fields=s.Vs.filter(a=>a.fetchable||a.type===n.FieldType.action),this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(s.lu.controller,"List"),this.sQuery=this.svNazTable.initSQuery(this),this.dsEmittData=this.svNazTable.initEmittData(this)}execQuery(a){this.svNazTable.execQuery(a,this.svBase.getPaged$(this.sQuery,this.baseModel.sess.cd_token),this)}setSearchQuery(a){this.sQuery=a.sQuery,this.execQuery(a)}getSelect(){return this.baseModel.data.fields.filter(a=>a.fetchable).map(a=>a.name)}static \u0275fac=function(l){return new(l||c)(t.\u0275\u0275directiveInject(i.ActivatedRoute),t.\u0275\u0275directiveInject(i.Router),t.\u0275\u0275directiveInject(n.BaseService),t.\u0275\u0275directiveInject(u.NazTableService),t.\u0275\u0275directiveInject(n.AclService),t.\u0275\u0275directiveInject(u.PageService),t.\u0275\u0275directiveInject(n.SessService))};static \u0275cmp=t.\u0275\u0275defineComponent({type:c,selectors:[["app-list"]],viewQuery:function(l,d){if(1&l&&t.\u0275\u0275viewQuery(u.NazTableComponent,5),2&l){let m;t.\u0275\u0275queryRefresh(m=t.\u0275\u0275loadQuery())&&(d.nazTable=m.first)}},decls:1,vars:7,consts:[[3,"searchQuery","baseModel","cardTitle","cardBodyId","searchInputId","tpData","filter","ddlData"]],template:function(l,d){1&l&&(t.\u0275\u0275elementStart(0,"naz-table",0),t.\u0275\u0275listener("searchQuery",function(h){return d.setSearchQuery(h)}),t.\u0275\u0275elementEnd()),2&l&&t.\u0275\u0275property("baseModel",d.baseModel)("cardTitle",d.cardTitle)("cardBodyId",d.cardBodyId)("searchInputId",d.searchInputId)("tpData",d.tpData)("filter",d.filter)("ddlData",d.ddlData)}})}return c})();var b=r(467);let v=(()=>{class c{aRoute;router;svBase;svPage;svSess;svAcl;svNotif;baseModel;formConfig={};updateQuery;constructor(a,l,d,m,h,M,D){this.aRoute=a,this.router=l,this.svBase=d,this.svPage=m,this.svSess=h,this.svAcl=M,this.svNotif=D,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(a=>{this.svAcl.initComponent(a,this,this.svSess).then(l=>{})})}init(){this.baseModel=new n.BaseModel(s.lu.module,s.lu.controller),this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(s.lu.controller,"Edit"),this.baseModel.data.subTitle="only allowed fields are editable"}update(a){var l=this;return(0,b.A)(function*(){l.svBase.update$(a,l.baseModel.token).subscribe(d=>{l.svNotif.emitNotif({pushData:{appId:"",appSockets:[],pushGuid:"",m:null,pushRecepients:n.DEFAULT_PUSH_RECEPIENTS,emittEvent:"push-notif",triggerEvent:"send-notif",token:"",commTrack:{initTime:null,relayTime:null,pushed:!1,pushTime:null,relayed:!1,deliveryTime:null,delivered:!1,completed:!1,completedTime:null,cached:!1,cachedTime:null,saved:!1,savedTime:null},isNotification:null,isAppInit:null},req:null,resp:null})})})()}static \u0275fac=function(l){return new(l||c)(t.\u0275\u0275directiveInject(i.ActivatedRoute),t.\u0275\u0275directiveInject(i.Router),t.\u0275\u0275directiveInject(n.BaseService),t.\u0275\u0275directiveInject(u.PageService),t.\u0275\u0275directiveInject(n.SessService),t.\u0275\u0275directiveInject(n.AclService),t.\u0275\u0275directiveInject(n.NotificationService))};static \u0275cmp=t.\u0275\u0275defineComponent({type:c,selectors:[["app-edit"]],decls:1,vars:2,consts:[[3,"updateQuery","baseModel","pageDescription","formConfig"]],template:function(l,d){1&l&&(t.\u0275\u0275elementStart(0,"naz-table-edit",0),t.\u0275\u0275listener("updateQuery",function(h){return d.update(h)}),t.\u0275\u0275elementEnd()),2&l&&t.\u0275\u0275property("baseModel",d.baseModel)("formConfig",d.formConfig)},dependencies:[u.EditComponent]})}return c})(),E=(()=>{class c{aRoute;router;svBase;svPage;svAcl;svNotif;svSess;baseModel;formConfig={};updateQuery;constructor(a,l,d,m,h,M,D){this.aRoute=a,this.router=l,this.svBase=d,this.svPage=m,this.svAcl=h,this.svNotif=M,this.svSess=D,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(a=>{this.svAcl.initComponent(a,this,this.svSess).then(l=>{})})}init(){this.baseModel=new n.BaseModel(s.lu.module,s.lu.controller),this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(s.lu.controller,"Delete"),this.baseModel.data.subTitle="confirm before delete"}deleteItem(a){var l=this;return(0,b.A)(function*(){l.svBase.delete$(a,l.baseModel.token).subscribe(d=>{l.svNotif.emitNotif({pushData:{appId:"",appSockets:[],pushGuid:"",m:null,pushRecepients:n.DEFAULT_PUSH_RECEPIENTS,emittEvent:"push-notif",triggerEvent:"send-notif",token:"",commTrack:{initTime:null,relayTime:null,pushed:!1,pushTime:null,relayed:!1,deliveryTime:null,delivered:!1,completed:!1,completedTime:null,cached:!1,cachedTime:null,saved:!1,savedTime:null},isNotification:null,isAppInit:null},req:null,resp:null})})})()}static \u0275fac=function(l){return new(l||c)(t.\u0275\u0275directiveInject(i.ActivatedRoute),t.\u0275\u0275directiveInject(i.Router),t.\u0275\u0275directiveInject(n.BaseService),t.\u0275\u0275directiveInject(u.PageService),t.\u0275\u0275directiveInject(n.AclService),t.\u0275\u0275directiveInject(n.NotificationService),t.\u0275\u0275directiveInject(n.SessService))};static \u0275cmp=t.\u0275\u0275defineComponent({type:c,selectors:[["app-delete"]],decls:1,vars:2,consts:[[3,"deleteQuery","baseModel","pageDescription","formConfig"]],template:function(l,d){1&l&&(t.\u0275\u0275elementStart(0,"naz-table-delete",0),t.\u0275\u0275listener("deleteQuery",function(h){return d.deleteItem(h)}),t.\u0275\u0275elementEnd()),2&l&&t.\u0275\u0275property("baseModel",d.baseModel)("formConfig",d.formConfig)},dependencies:[u.DeleteComponent]})}return c})();var N=r(327),S=r(8788);let P=(()=>{class c{svBase;svModule;svCompany;svModman;constructor(a,l,d,m){this.svBase=a,this.svModule=l,this.svCompany=d,this.svModman=m}loadDdls(a,l){var d=this;return(0,b.A)(function*(){N.M9.token=a.token,s.dg.token=a.token,s.dg.step=l,s.dg.controlName="companyTypeGuid",console.log("cd-moduleman/CompanyFrontService::loadDdls()/companyTypeGetQuery:",s.kd),s.dg.getFn$=d.svCompany.getCompanyType$(s.kd,a.token),yield d.svModman.setDdl$(yield s.dg).subscribe(m=>{console.log("cd-moduleman/CompanyFrontService::loadDdls()/ret(companyTypes):",m),l.fields.forEach(h=>{"companyTypeGuid"===h.name&&(h.ddlInfo.data=m)})})})()}static \u0275fac=function(l){return new(l||c)(t.\u0275\u0275inject(n.BaseService),t.\u0275\u0275inject(n.ModuleService),t.\u0275\u0275inject(n.CompanyService),t.\u0275\u0275inject(S.O))};static \u0275prov=t.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const L=[{path:"list",component:y},{path:"edit",component:v},{path:"delete",component:E},{path:"create",component:(()=>{class c{aRoute;router;svCompanyFront;svAcl;svForm;svNotif;fb;svForms;svPage;svPush;svBase;svSess;svCompany;baseModel;companyStep;newCompany=s.in;companyData;wizardModel=s.gh;menuData;constructor(a,l,d,m,h,M,D,B,j,O,w,U,z){this.aRoute=a,this.router=l,this.svCompanyFront=d,this.svAcl=m,this.svForm=h,this.svNotif=M,this.fb=D,this.svForms=B,this.svPage=j,this.svPush=O,this.svBase=w,this.svSess=U,this.svCompany=z,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(a=>{this.svAcl.initComponent(a,this,this.svSess).then(l=>{l&&(this.svPush.init(this),this.baseModel.data.step.token=this.baseModel.token)})})}ngAfterViewInit(){this.svCompanyFront.loadDdls(this.baseModel,this.baseModel.data.step).then(a=>{console.log("company/CreateComponent::ngAfterViewInit()/this.baseModel.data.step:",this.baseModel.data.step)})}init(){this.baseModel=new n.BaseModel(s.lu.module,s.lu.controller),this.baseModel.data.fields=this.svForms.filterByFieldFor(s.Vs,n.FieldFor.createForm),this.baseModel.data.wizardModel=s.gh,this.baseModel.data.step=this.svForm.filterStepsByController(this.baseModel.data.wizardModel,s.lu.controller)[0],this.baseModel.data.form=this.fb.group(this.svForm.getFormControlConfig(s.Vs)),this.baseModel.data.step.formGroup=this.baseModel.data.form,this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(s.lu.controller,"Create")}setSelectedIcon(a){this.svForm.setSelectedIcon(a,this.baseModel,this.baseModel.data.step)}save(a){let l;switch(console.log("starting modules/moduleman/company/CreateComponent::save():"),a.controller){case"module":case"menu":break;case"Company":console.log("modules/moduleman/company/CreateComponent::save()/this.newCompany:",this.newCompany),l=this.svCompany.createCompany$(this.newCompany,this.baseModel.token),this.svForm.saveForm(a,this.newCompany,l,this.svPush.pushEnvelop,this.svNotif)}}finishFunction(){console.log("finishing!!")}static \u0275fac=function(l){return new(l||c)(t.\u0275\u0275directiveInject(i.ActivatedRoute),t.\u0275\u0275directiveInject(i.Router),t.\u0275\u0275directiveInject(P),t.\u0275\u0275directiveInject(n.AclService),t.\u0275\u0275directiveInject(n.FormsService),t.\u0275\u0275directiveInject(n.NotificationService),t.\u0275\u0275directiveInject(I.FormBuilder),t.\u0275\u0275directiveInject(n.FormsService),t.\u0275\u0275directiveInject(u.PageService),t.\u0275\u0275directiveInject(n.CdPushService),t.\u0275\u0275directiveInject(n.BaseService),t.\u0275\u0275directiveInject(n.SessService),t.\u0275\u0275directiveInject(n.CompanyService))};static \u0275cmp=t.\u0275\u0275defineComponent({type:c,selectors:[["app-create"]],decls:1,vars:2,consts:[[3,"saveEmitter","relaySelIconEmitter","baseModel","wizardModel"]],template:function(l,d){1&l&&(t.\u0275\u0275elementStart(0,"naz-table-create",0),t.\u0275\u0275listener("saveEmitter",function(h){return d.save(h)})("relaySelIconEmitter",function(h){return d.setSelectedIcon(h)}),t.\u0275\u0275elementEnd()),2&l&&t.\u0275\u0275property("baseModel",d.baseModel)("wizardModel",d.wizardModel)},dependencies:[u.CreateComponent]})}return c})()},{path:"dashboard",component:r(4287).S}];let R=(()=>{class c{static \u0275fac=function(l){return new(l||c)};static \u0275mod=t.\u0275\u0275defineNgModule({type:c});static \u0275inj=t.\u0275\u0275defineInjector({imports:[i.RouterModule.forChild(L),i.RouterModule]})}return c})(),V=(()=>{class c{static \u0275fac=function(l){return new(l||c)};static \u0275mod=t.\u0275\u0275defineNgModule({type:c});static \u0275inj=t.\u0275\u0275defineInjector({imports:[o.CommonModule,I.FormsModule,I.ReactiveFormsModule,C.NgbNavModule,C.NgbDropdownModule,C.NgbTooltipModule,C.NgbAccordionModule,u.NazUiModule,u.NazTableModule,u.NazCreateModule,u.NazEditModule,u.NazDeleteModule,p.FilterPipeModule,g.ArchwizardModule,F.NgToggleModule,R,e.NgSelectModule,n.BaseModule.forChild(f.c),n.CdPushModule.forChild(f.c)]})}return c})()},3425:(_,T,r)=>{r.d(T,{AV:()=>n,Bx:()=>y,EG:()=>t,Fl:()=>b,PG:()=>i,gb:()=>u,v4:()=>f,yr:()=>s});var o=r(2952),e=r(4178),p=r(4866);const F=new e.FormsService,f=[{title:"ID",name:"menuId",dbName:"menu_id",type:e.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"number",disabled:!0,formControlsConfig:["",[]]},{title:"Guid",name:"menuGuid",dbName:"menu_guid",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Label",name:"menuLabel",dbName:"menu_label",type:e.FieldType.string,fetchable:!0,updateable:!1,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Name",name:"menuName",dbName:"menu_name",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[o.Validators.minLength(3),o.Validators.maxLength(25),o.Validators.required]]},{title:"MenuParent",name:"menuParentId",dbName:"menu_parent_id",type:e.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.searchDropDown,fieldFor:e.FieldFor.createForm}],ddlInfo:{selData$:(0,p.of)([]),selValueField:"menuName",selIndex:"menuId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[o.Validators.required]]},{title:"ModuleParent",name:"moduleId",dbName:"module_id",primaryField:"menuParent",type:e.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.searchDropDown,fieldFor:e.FieldFor.createForm}],ddlInfo:{selData$:(0,p.of)([]),selValueField:"moduleName",selIndex:"moduleId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[o.Validators.required]]},{title:"Description",name:"menuDescription",dbName:"menu_description",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.textArea,fieldFor:e.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[o.Validators.minLength(0),o.Validators.maxLength(300)]]},{title:"Icon",name:"menuIcon",dbName:"menu_icon",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.ddlIcons,fieldFor:e.FieldFor.createForm}],ddlInfo:{selData$:(0,p.of)([]),selValueField:"iconName",selIndex:"iconId",selPlaceholder:"...choose",ddlIconId:"iconDdlIdX",searchInputId:"searchInputIdX",searchInputName:"searchInputNameX",selectedValue:"",data:null},formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[o.Validators.minLength(2),o.Validators.maxLength(50),o.Validators.required]]},{title:"Path",name:"path",dbName:"path",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm}],formatt:"text",formControlsConfig:["",[o.Validators.minLength(3),o.Validators.maxLength(100),o.Validators.required]]},{title:"Action",name:"action",type:e.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:e.ControlType.action,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.action,fieldFor:e.FieldFor.createForm}],Fn:"createMenu"},{title:"Search",name:"iconSearch",type:e.FieldType.any,controls:[],formControlsConfig:["",[]]}],n={data:{},cdObj:null,valid:null,ctx:"Sys"},u=[{toReplace:"menuLabel",replaceWith:"menuName"}],i={token:"",stepTitle:"Create Menu",stepItems:{prevButtonId:"stepToModule",lastButtonId:"endSteps"},tabPaneId:"menuInfo",cardTitle:"Menu Information",cardTitleDesc:"Every module has to have at least one menu item. You can use the + button to add more items.",module:"moduleman",controller:"menu",formGroup:null,fields:F.filterByFieldFor(f,e.FieldFor.createForm)},s={name:"Menu Wizard",steps:[i]},t={select:["menuId","menuName","menuGuid"],where:{}},y={getFn$:null,selIndex:t.select[0],selValueField:t.select[1],fetchFields:t.select,step:null,token:null,controlName:"menuParentId"},b=[{menuName:"create",menuGuid:"bd9b5bda6ab",navLocation:"/moduleman/menu/create",actionType:e.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db69c1",navLocation:"/moduleman/menu/dashboard",actionType:e.ActionType.navigate}]},327:(_,T,r)=>{r.d(T,{AQ:()=>f,Fl:()=>t,M9:()=>b,VP:()=>n,ad:()=>i,lw:()=>y,n4:()=>s,o0:()=>F});var o=r(2952),e=r(4178),p=r(3425);const g=new e.FormsService,F=[{title:"ID",name:"moduleId",dbName:"module_id",type:e.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"number",disabled:!0},{title:"Guid",name:"moduleGuid",dbName:"module_guid",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"moduleName",dbName:"module_name",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[o.Validators.minLength(4),o.Validators.maxLength(20),o.Validators.required]]},{title:"Description",name:"moduleDescription",dbName:"module_description",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.textArea,fieldFor:e.FieldFor.createForm}],formatt:"textArea",savable:!0,formControlsConfig:["",[o.Validators.minLength(0),o.Validators.maxLength(300)]]},{title:"Enabled",name:"moduleEnabled",dbName:"module_enabled",type:e.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.status,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Sys",name:"isSysModule",dbName:"is_sys_module",type:e.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.status,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[o.Validators.required]]},{title:"System Module",name:"isSys",controls:[{controlType:e.ControlType.toggleSwitch,fieldFor:e.FieldFor.createForm}],primaryField:"isSysModule",formControlsConfig:["",[]]},{title:"App Module",name:"isApp",controls:[{controlType:e.ControlType.toggleSwitch,fieldFor:e.FieldFor.createForm}],primaryField:"isSysModule",formControlsConfig:["",[]]},{title:"Action",name:"action",type:e.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:e.ControlType.action,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.action,fieldFor:e.FieldFor.tableDisplay}]}],f={controllerName:"isSysModule",selectedItem:{index:0,optControlId:"",value:"",selected:!1},controlTypes:e.ControlType.toggleSwitch,options:[{index:0,optControlId:"isSys",value:"isSys",selected:!0},{index:1,optControlId:"isApp",value:"isApp",selected:!1}]},n={valid:null,data:{},ctx:"Sys"},i={token:"",stepTitle:"Create Module",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"moduleInfo",cardTitle:"Module Information",cardTitleDesc:"Fill all information below",module:"moduleman",controller:"module",formGroup:null,fields:g.filterByFieldFor(F,e.FieldFor.createForm)},s={name:"Module Wizard",steps:[i,p.PG]},t=[{menuName:"create",menuGuid:"bd9b5bda5ab",navLocation:"/moduleman/module/create",actionType:e.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db59c1",navLocation:"/moduleman/module/dashboard",actionType:e.ActionType.navigate}],y={select:["moduleId","moduleName","moduleGuid"],where:{}},b={getFn$:null,selIndex:y.select[0],selValueField:y.select[1],fetchFields:y.select,step:null,token:null,controlName:"moduleId"}},8788:(_,T,r)=>{r.d(T,{O:()=>f});var o=r(4178),e=r(4866),p=r(2264);let f=(()=>{class n{svMenu;svNotif;svForm;token;ddlData={config:{suppressScrollX:!0,wheelSpeed:.3},header:{title:{lable:"Notifications",cls:"",action:null},sideLink:{lable:"View All",cls:"",action:null}},footer:{label:"View All",icon:"",action:null},data:[{label:"item 1",description:"If several languages coalesce the grammar",time:"3 min ago"},{label:"item 2",description:"It will seem like simplified English",time:"1 hr ago"},{label:"item 3",description:"If several languages coalesce the grammar",time:"4 hr ago"}]};pushEnvelop={pushData:{appId:"",appSockets:[],pushGuid:"",m:null,pushRecepients:o.DEFAULT_PUSH_RECEPIENTS,emittEvent:"push-notif",triggerEvent:"send-notif",token:"",commTrack:{initTime:null,relayTime:null,pushed:!1,pushTime:null,relayed:!1,deliveryTime:null,delivered:!1,completed:!1,completedTime:null,cached:!1,cachedTime:null,saved:!1,savedTime:null},isNotification:null,isAppInit:null},req:null,resp:null};numericNumberReg1="^-?[0-9]\\d*(\\.\\d{1,2})?$";numericNumberReg2="/^[0-9]d*$/";numericNumberReg3=new RegExp(/^-?[0-9]\\d*(\\.\\d{1,2})?$/,"i");numericNumberReg4=new RegExp(/^[0-9]\d*$/,"i");constructor(i,s,t){this.svMenu=i,this.svNotif=s,this.svForm=t}setIconsData$(i,s){i.fields.map((t,y)=>{t.name===s&&(i.fields[y].ddlInfo.selData$=(0,e.of)(this.ddlData),i.fields[y].ddlInfo.selIndex="iconId",i.fields[y].ddlInfo.selValueField="iconName",i.fields[y].ddlInfo.selPlaceholder="...Choose")})}setDdl$(i){if(i.token){const s=new e.Subject;let t=[];return i.getFn$.subscribe(y=>{const b=y;console.log("ModulemanService::setDdl$()/response:",b),console.log("ModulemanService::setDdl$()/ddlCtx.step.fields:",i.step),b.app_state.success?(t=b.data.items,i.step.fields.map((v,E)=>{console.log("ModulemanService::setDdl$()/f.name1:",v.name),console.log("ModulemanService::setDdl$()/ddlCtx.controlName:",i.controlName),console.log("ModulemanService::setDdl$()/f:",v),v.name===i.controlName&&"ddlInfo"in v&&(console.log("ModulemanService::setDdl$()/f.name2:",v.name),i.step.fields[E].ddlInfo.selData$=(0,e.of)(b.data.items),i.step.fields[E].ddlInfo.selIndex=i.selIndex,i.step.fields[E].ddlInfo.selValueField=i.selValueField,i.step.fields[E].ddlInfo.selPlaceholder="...Choose")}),s.next(t)):(this.pushEnvelop.resp=b,this.svNotif.emitNotif(this.pushEnvelop),s.next(t))}),s.asObservable()}return(0,e.of)([])}static \u0275fac=function(s){return new(s||n)(p.\u0275\u0275inject(o.MenuService),p.\u0275\u0275inject(o.NotificationService),p.\u0275\u0275inject(o.FormsService))};static \u0275prov=p.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()},6758:(_,T,r)=>{r.d(T,{c:()=>F});const o="https://cd-api.co.ke",F={appId:"",production:!1,apiEndpoint:`${o}:3001/api`,sioEndpoint:`${o}:3002`,wsEndpoint:"ws://cd-api.co.ke:3000",wsMode:"wss",pushConfig:{sio:{enabled:!0},wss:{enabled:!1},pusher:{enabled:!0,apiKey:"DtVRY9V5j41KwSxKrd8L_dRijUJh9gVcqwBH5wb96no",options:{cluster:"ap2",forceTLS:!0,userAuthentication:{endpoint:"https://cd-api.co.ke:3002/pusher/auth",transport:"ajax",params:{},headers:{},includeCredentials:!0,customHandler:null},channelAuthorization:{endpoint:"https://cd-api.co.ke:3002/pusher/auth"},authEndpoint:"https://cd-api.co.ke:3002/pusher/auth"}}},CD_PORT:3001,consumerToken:"B0B3DA99-1859-A499-90F6-1E3F69575DCD",clientContext:{entity:"ASDAP",clientAppId:2,consumerToken:"B0B3DA99-1859-A499-90F6-1E3F69575DCD"},USER_RESOURCES:"http://routed-93/user-resources",apiHost:"https://cd-api.co.ke",sioHost:"https://cd-api.co.ke",shellHost:"https://asdap.net",consumer:"",clientAppGuid:"ca0fe39f-92b2-484d-91ef-487d4fc462a2",clientAppId:2,SOCKET_IO_PORT:3002,defaultauth:"cd-auth",mfManifestPath:"/assets/mf.manifest.json",apiOptions:{headers:{"Content-Type":"application/json"}},sioOptions:{path:"/socket.io",transports:["websocket","polling"],secure:!0},firebaseConfig:{apiKey:"",authDomain:"",databaseURL:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""}}},467:(_,T,r)=>{function o(e,C,p,g,F,f,n){try{var u=e[f](n),i=u.value}catch(s){return void p(s)}u.done?C(i):Promise.resolve(i).then(g,F)}function I(e){return function(){var C=this,p=arguments;return new Promise(function(g,F){var f=e.apply(C,p);function n(i){o(f,g,F,n,u,"next",i)}function u(i){o(f,g,F,n,u,"throw",i)}n(void 0)})}}r.d(T,{A:()=>I})}}]);
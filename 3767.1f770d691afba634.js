(self.webpackChunkcd_moduleman=self.webpackChunkcd_moduleman||[]).push([[3767],{4689:(_,g,i)=>{i.d(g,{Fl:()=>c,Vs:()=>F,dQ:()=>C,dg:()=>M,e4:()=>h,gh:()=>s,in:()=>t,kd:()=>y,lu:()=>m});var r=i(2952),e=i(4178),f=i(4866);const T=new e.FormsService,F=[{title:"ID",name:"companyId",dbName:"company_id",type:e.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"alphanum"},{title:"Guid",name:"companyGuid",dbName:"company_guid",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"companyName",dbName:"company_name",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[r.Validators.minLength(3),r.Validators.maxLength(80),r.Validators.required]]},{title:"Tags",name:"searchTags",dbName:"search_tags",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.textArea,fieldFor:e.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[r.Validators.minLength(0),r.Validators.maxLength(300)]]},{title:"CompanyType",name:"companyTypeGuid",dbName:"company_type_guid",type:e.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.searchDropDown,fieldFor:e.FieldFor.createForm}],ddlInfo:{selData$:(0,f.of)([]),selValueField:"companyName",selIndex:"companyTypeGuid",selPlaceholder:"...Choose",data:null},formatt:"text",disabled:!0,savable:!0,formControlsConfig:["",[r.Validators.minLength(3),r.Validators.maxLength(42),r.Validators.required]]},{title:"Postal",name:"postalAddress",dbName:"postal_address",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[r.Validators.minLength(1),r.Validators.maxLength(20),r.Validators.required]]},{title:"Phone",name:"phone",dbName:"phone",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[r.Validators.minLength(8),r.Validators.maxLength(80),r.Validators.required]]},{title:"Mobile",name:"mobile",dbName:"mobile",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[r.Validators.minLength(8),r.Validators.maxLength(24),r.Validators.required]]},{title:"Email",name:"email",dbName:"email",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[r.Validators.pattern(e.EMAIL_PATTERN),r.Validators.required]]},{title:"Website",name:"website",dbName:"website",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[r.Validators.pattern(e.URL_PATTERN),r.Validators.required]]},{title:"City",name:"city",dbName:"city",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[r.Validators.minLength(3),r.Validators.maxLength(20),r.Validators.required]]},{title:"Country",name:"country",dbName:"country",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[r.Validators.minLength(3),r.Validators.maxLength(20),r.Validators.required]]},{title:"Location",name:"physicalLocation",dbName:"physical_location",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[r.Validators.minLength(1),r.Validators.maxLength(80),r.Validators.required]]},{title:"Logo",name:"logo",dbName:"logo",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[r.Validators.minLength(3),r.Validators.maxLength(20),r.Validators.required]]},{title:"Enabled",name:"companyEnabled",dbName:"company_enabled",type:e.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.status,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Action",name:"action",type:e.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:e.ControlType.action,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.action,fieldFor:e.FieldFor.createForm}],Fn:"createCompany"},{title:"Search",name:"iconSearch",type:e.FieldType.any,controls:[],formControlsConfig:["",[]]}],t={data:{},valid:null,ctx:"Sys"},m={token:"",stepTitle:"Create Company",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"companyInfo",cardTitle:"Company Information",cardTitleDesc:"Fill all information below",module:"Moduleman",controller:"Company",formGroup:null,fields:T.filterByFieldFor(F,e.FieldFor.createForm)},s={name:"Company Wizard",steps:[m]},h={select:["companyId","companyName","companyGuid"],where:{}},C={getFn$:null,selIndex:h.select[0],selValueField:h.select[1],fetchFields:h.select,step:null,token:null,controlName:"companyId"},y={select:["companyTypeId","companyTypeName","companyTypeGuid"],where:{}},M={getFn$:null,selIndex:y.select[2],selValueField:y.select[1],fetchFields:y.select,step:null,token:null,controlName:"companyTypeGuid"},c=[{menuName:"create",menuGuid:"bd9b5bda5ab",navLocation:"/moduleman/company/create",actionType:e.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db59c1",navLocation:"/moduleman/company/dashboard",actionType:e.ActionType.navigate}]},3767:(_,g,i)=>{i.r(g),i.d(g,{ConsumerModule:()=>k});var r=i(9354),v=i(2952),e=i(6393),b=i(1475),f=i(4939),I=i(5425),T=i(8351),F=i(6758),t=i(4178),m=i(777),s=i(5662),h=i(4866);const C=new t.FormsService,y=[{title:"ID",name:"consumerId",dbName:"consumer_id",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"alphanum"},{title:"Guid",name:"consumerGuid",dbName:"consumer_guid",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"consumerName",dbName:"consumer_name",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm},{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[v.Validators.minLength(3),v.Validators.maxLength(60),v.Validators.required]]},{title:"Company",name:"companyId",dbName:"company_id",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.searchDropDown,fieldFor:t.FieldFor.createForm}],ddlInfo:{selData$:(0,h.of)([]),selValueField:"companyName",selIndex:"companyId",selPlaceholder:"...Choose",data:null},formatt:"text",disabled:!0,savable:!0,formControlsConfig:["",[v.Validators.minLength(3),v.Validators.maxLength(42),v.Validators.required]]},{title:"Enabled",name:"consumerEnabled",dbName:"consumer_enabled",type:t.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.status,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Action",name:"action",type:t.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:t.ControlType.action,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.action,fieldFor:t.FieldFor.createForm}],Fn:"createConsumer"},{title:"Search",name:"iconSearch",type:t.FieldType.any,controls:[],formControlsConfig:["",[]]}],M={data:{},valid:null,ctx:"Sys"},c={token:"",stepTitle:"Create Consumer",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"consumerInfo",cardTitle:"Consumer Information",cardTitleDesc:"Fill all information below",module:"Moduleman",controller:"Consumer",formGroup:null,fields:C.filterByFieldFor(y,t.FieldFor.createForm)},D={name:"Consumer Wizard",steps:[c]},L=[{menuName:"create",menuGuid:"bd9b5bda5ab",navLocation:"/moduleman/consumer/create",actionType:t.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db59c1",navLocation:"/moduleman/consumer/dashboard",actionType:t.ActionType.navigate}];var o=i(2264);let R=(()=>{class d{aRoute;router;svBase;svNazTable;svAcl;svPage;svSess;baseModel;dSource={fields:[],data:[]};cardTitle="Consumer";cardBodyId="consumer";searchInputId="inputSearchConsumer";filter={};nazTable;dsEmittData;sQuery;tpData=t.DEFAULT_TPD;ddlData=L;constructor(a,l,n,u,p,E,S){this.aRoute=a,this.router=l,this.svBase=n,this.svNazTable=u,this.svAcl=p,this.svPage=E,this.svSess=S,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(a=>{a&&this.svAcl.initComponent(a,this,this.svSess).then(l=>{})})}init(){this.baseModel=new t.BaseModel(c.module,c.controller),this.svBase.module=c.module,this.svBase.controller=c.controller,this.baseModel.data.fields=y.filter(a=>a.fetchable||a.type===t.FieldType.action),this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(c.controller,"List"),this.sQuery=this.svNazTable.initSQuery(this),this.dsEmittData=this.svNazTable.initEmittData(this)}execQuery(a){this.svNazTable.execQuery(a,this.svBase.getPaged$(this.sQuery,this.baseModel.sess.cd_token),this)}setSearchQuery(a){this.sQuery=a.sQuery,this.execQuery(a)}getSelect(){return this.baseModel.data.fields.filter(a=>a.fetchable).map(a=>a.name)}static \u0275fac=function(l){return new(l||d)(o.\u0275\u0275directiveInject(s.ActivatedRoute),o.\u0275\u0275directiveInject(s.Router),o.\u0275\u0275directiveInject(t.BaseService),o.\u0275\u0275directiveInject(m.NazTableService),o.\u0275\u0275directiveInject(t.AclService),o.\u0275\u0275directiveInject(m.PageService),o.\u0275\u0275directiveInject(t.SessService))};static \u0275cmp=o.\u0275\u0275defineComponent({type:d,selectors:[["app-list"]],viewQuery:function(l,n){if(1&l&&o.\u0275\u0275viewQuery(m.NazTableComponent,5),2&l){let u;o.\u0275\u0275queryRefresh(u=o.\u0275\u0275loadQuery())&&(n.nazTable=u.first)}},decls:1,vars:7,consts:[[3,"searchQuery","baseModel","cardTitle","cardBodyId","searchInputId","tpData","filter","ddlData"]],template:function(l,n){1&l&&(o.\u0275\u0275elementStart(0,"naz-table",0),o.\u0275\u0275listener("searchQuery",function(p){return n.setSearchQuery(p)}),o.\u0275\u0275elementEnd()),2&l&&o.\u0275\u0275property("baseModel",n.baseModel)("cardTitle",n.cardTitle)("cardBodyId",n.cardBodyId)("searchInputId",n.searchInputId)("tpData",n.tpData)("filter",n.filter)("ddlData",n.ddlData)}})}return d})();var x=i(467);let B=(()=>{class d{aRoute;router;svBase;svPage;svSess;svAcl;svNotif;baseModel;formConfig={};updateQuery;constructor(a,l,n,u,p,E,S){this.aRoute=a,this.router=l,this.svBase=n,this.svPage=u,this.svSess=p,this.svAcl=E,this.svNotif=S,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(a=>{this.svAcl.initComponent(a,this,this.svSess).then(l=>{})})}init(){this.baseModel=new t.BaseModel(c.module,c.controller),this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(c.controller,"Edit"),this.baseModel.data.subTitle="only allowed fields are editable"}update(a){var l=this;return(0,x.A)(function*(){l.svBase.update$(a,l.baseModel.token).subscribe(n=>{l.svNotif.emitNotif({pushData:{appId:"",appSockets:[],pushGuid:"",m:null,pushRecepients:t.DEFAULT_PUSH_RECEPIENTS,emittEvent:"push-notif",triggerEvent:"send-notif",token:"",commTrack:{initTime:null,relayTime:null,pushed:!1,pushTime:null,relayed:!1,deliveryTime:null,delivered:!1,completed:!1,completedTime:null,cached:!1,cachedTime:null,saved:!1,savedTime:null},isNotification:null,isAppInit:null},req:null,resp:null})})})()}static \u0275fac=function(l){return new(l||d)(o.\u0275\u0275directiveInject(s.ActivatedRoute),o.\u0275\u0275directiveInject(s.Router),o.\u0275\u0275directiveInject(t.BaseService),o.\u0275\u0275directiveInject(m.PageService),o.\u0275\u0275directiveInject(t.SessService),o.\u0275\u0275directiveInject(t.AclService),o.\u0275\u0275directiveInject(t.NotificationService))};static \u0275cmp=o.\u0275\u0275defineComponent({type:d,selectors:[["app-edit"]],decls:1,vars:2,consts:[[3,"updateQuery","baseModel","pageDescription","formConfig"]],template:function(l,n){1&l&&(o.\u0275\u0275elementStart(0,"naz-table-edit",0),o.\u0275\u0275listener("updateQuery",function(p){return n.update(p)}),o.\u0275\u0275elementEnd()),2&l&&o.\u0275\u0275property("baseModel",n.baseModel)("formConfig",n.formConfig)},dependencies:[m.EditComponent]})}return d})(),w=(()=>{class d{aRoute;router;svBase;svPage;svAcl;svNotif;svSess;baseModel;formConfig={};updateQuery;constructor(a,l,n,u,p,E,S){this.aRoute=a,this.router=l,this.svBase=n,this.svPage=u,this.svAcl=p,this.svNotif=E,this.svSess=S,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(a=>{this.svAcl.initComponent(a,this,this.svSess).then(l=>{})})}init(){this.baseModel=new t.BaseModel(c.module,c.controller),this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(c.controller,"Delete"),this.baseModel.data.subTitle="confirm before delete"}deleteItem(a){var l=this;return(0,x.A)(function*(){l.svBase.delete$(a,l.baseModel.token).subscribe(n=>{l.svNotif.emitNotif({pushData:{appId:"",appSockets:[],pushGuid:"",m:null,pushRecepients:t.DEFAULT_PUSH_RECEPIENTS,emittEvent:"push-notif",triggerEvent:"send-notif",token:"",commTrack:{initTime:null,relayTime:null,pushed:!1,pushTime:null,relayed:!1,deliveryTime:null,delivered:!1,completed:!1,completedTime:null,cached:!1,cachedTime:null,saved:!1,savedTime:null},isNotification:null,isAppInit:null},req:null,resp:null})})})()}static \u0275fac=function(l){return new(l||d)(o.\u0275\u0275directiveInject(s.ActivatedRoute),o.\u0275\u0275directiveInject(s.Router),o.\u0275\u0275directiveInject(t.BaseService),o.\u0275\u0275directiveInject(m.PageService),o.\u0275\u0275directiveInject(t.AclService),o.\u0275\u0275directiveInject(t.NotificationService),o.\u0275\u0275directiveInject(t.SessService))};static \u0275cmp=o.\u0275\u0275defineComponent({type:d,selectors:[["app-delete"]],decls:1,vars:2,consts:[[3,"deleteQuery","baseModel","pageDescription","formConfig"]],template:function(l,n){1&l&&(o.\u0275\u0275elementStart(0,"naz-table-delete",0),o.\u0275\u0275listener("deleteQuery",function(p){return n.deleteItem(p)}),o.\u0275\u0275elementEnd()),2&l&&o.\u0275\u0275property("baseModel",n.baseModel)("formConfig",n.formConfig)},dependencies:[m.DeleteComponent]})}return d})();var N=i(4689),j=i(8788);let V=(()=>{class d{svBase;svModman;constructor(a,l){this.svBase=a,this.svModman=l}loadDdls(a,l){var n=this;return(0,x.A)(function*(){N.dQ.token=a.token,N.dQ.step=l,N.dQ.controlName="companyId",console.log("ConsumerModService::loadDdls()/companyGetQuery:",N.e4),N.dQ.getFn$=n.svBase.getPaged$(N.e4,a.token,"Sys","Moduleman","Company"),yield n.svModman.setDdl$(yield N.dQ).subscribe(u=>{console.log("consumer/ConsumerModService::loadDdls()/ret(companies):",u),l.fields.forEach(p=>{"companyId"===p.name&&(p.ddlInfo.data=u)})})})()}static \u0275fac=function(l){return new(l||d)(o.\u0275\u0275inject(t.BaseService),o.\u0275\u0275inject(j.O))};static \u0275prov=o.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();const Q=[{path:"list",component:R},{path:"edit",component:B},{path:"delete",component:w},{path:"create",component:(()=>{class d{aRoute;router;svServer;svConsumerFront;svAcl;svForm;svNotif;fb;svForms;svModman;svPage;svPush;svBase;svSess;baseModel;consumerStep;newConsumer=M;consumerData;wizardModel=D;menuData;constructor(a,l,n,u,p,E,S,U,$,K,W,H,Y,J){this.aRoute=a,this.router=l,this.svServer=n,this.svConsumerFront=u,this.svAcl=p,this.svForm=E,this.svNotif=S,this.fb=U,this.svForms=$,this.svModman=K,this.svPage=W,this.svPush=H,this.svBase=Y,this.svSess=J,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(a=>{this.svAcl.initComponent(a,this,this.svSess).then(l=>{l&&(this.svPush.init(this),this.baseModel.data.step.token=this.baseModel.token)})})}ngAfterViewInit(){this.svConsumerFront.loadDdls(this.baseModel,this.baseModel.data.step).then(a=>{console.log("consumer/CreateComponent::ngAfterViewInit()/this.baseModel.data.step:",this.baseModel.data.step)})}init(){this.baseModel=new t.BaseModel(c.module,c.controller),this.baseModel.data.fields=this.svForms.filterByFieldFor(y,t.FieldFor.createForm),this.baseModel.data.wizardModel=D,this.baseModel.data.step=this.svForm.filterStepsByController(this.baseModel.data.wizardModel,c.controller)[0],this.baseModel.data.form=this.fb.group(this.svForm.getFormControlConfig(y)),this.baseModel.data.step.formGroup=this.baseModel.data.form,this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(c.controller,"Create")}setSelectedIcon(a){this.svForm.setSelectedIcon(a,this.baseModel,this.baseModel.data.step)}save(a){switch(console.log("consumer/CreateComponent::save()/01"),console.log("consumer/CreateComponent::save()/step:",a),a.controller){case"module":case"menu":break;case"Consumer":if(console.log("consumer/CreateComponent::save()/handling consumer"),console.log("consumer/CreateComponent::save()/step.formGroup.value:",a.formGroup.value),"VALID"===a.formGroup.status){console.log("consumer/CreateComponent::save()/validation success");let n={ctx:"Sys",m:"Moduleman",c:"Consumer",a:"Create",dat:{f_vals:[{data:{}}],token:""},args:{}};n.dat.f_vals[0].data={...a.formGroup.value},n.dat.token=this.baseModel.token,console.log("consumer/CreateComponent::save()/env:",n),this.svServer.proc(n).subscribe(u=>{console.log("consumer/CreateComponent::save()/Consumer/resp:",u)})}else console.log("consumer/CreateComponent::save()/Validation Error orccured")}}finishFunction(){console.log("finishing!!")}static \u0275fac=function(l){return new(l||d)(o.\u0275\u0275directiveInject(s.ActivatedRoute),o.\u0275\u0275directiveInject(s.Router),o.\u0275\u0275directiveInject(t.ServerService),o.\u0275\u0275directiveInject(V),o.\u0275\u0275directiveInject(t.AclService),o.\u0275\u0275directiveInject(t.FormsService),o.\u0275\u0275directiveInject(t.NotificationService),o.\u0275\u0275directiveInject(v.FormBuilder),o.\u0275\u0275directiveInject(t.FormsService),o.\u0275\u0275directiveInject(j.O),o.\u0275\u0275directiveInject(m.PageService),o.\u0275\u0275directiveInject(t.CdPushService),o.\u0275\u0275directiveInject(t.BaseService),o.\u0275\u0275directiveInject(t.SessService))};static \u0275cmp=o.\u0275\u0275defineComponent({type:d,selectors:[["app-create"]],decls:1,vars:2,consts:[[3,"saveEmitter","relaySelIconEmitter","baseModel","wizardModel"]],template:function(l,n){1&l&&(o.\u0275\u0275elementStart(0,"naz-table-create",0),o.\u0275\u0275listener("saveEmitter",function(p){return n.save(p)})("relaySelIconEmitter",function(p){return n.setSelectedIcon(p)}),o.\u0275\u0275elementEnd()),2&l&&o.\u0275\u0275property("baseModel",n.baseModel)("wizardModel",n.wizardModel)},dependencies:[m.CreateComponent]})}return d})()},{path:"dashboard",component:i(4287).S}];let G=(()=>{class d{static \u0275fac=function(l){return new(l||d)};static \u0275mod=o.\u0275\u0275defineNgModule({type:d});static \u0275inj=o.\u0275\u0275defineInjector({imports:[s.RouterModule.forChild(Q),s.RouterModule]})}return d})(),k=(()=>{class d{static \u0275fac=function(l){return new(l||d)};static \u0275mod=o.\u0275\u0275defineNgModule({type:d});static \u0275inj=o.\u0275\u0275defineInjector({imports:[r.CommonModule,v.FormsModule,v.ReactiveFormsModule,b.NgbNavModule,b.NgbDropdownModule,b.NgbTooltipModule,b.NgbAccordionModule,m.NazUiModule,m.NazTableModule,m.NazCreateModule,m.NazEditModule,m.NazDeleteModule,f.FilterPipeModule,I.ArchwizardModule,T.NgToggleModule,G,e.NgSelectModule,t.BaseModule.forChild(F.c),t.CdPushModule.forChild(F.c)]})}return d})()},8788:(_,g,i)=>{i.d(g,{O:()=>F});var r=i(4178),e=i(4866),f=i(2264);let F=(()=>{class t{svMenu;svNotif;svForm;token;ddlData={config:{suppressScrollX:!0,wheelSpeed:.3},header:{title:{lable:"Notifications",cls:"",action:null},sideLink:{lable:"View All",cls:"",action:null}},footer:{label:"View All",icon:"",action:null},data:[{label:"item 1",description:"If several languages coalesce the grammar",time:"3 min ago"},{label:"item 2",description:"It will seem like simplified English",time:"1 hr ago"},{label:"item 3",description:"If several languages coalesce the grammar",time:"4 hr ago"}]};pushEnvelop={pushData:{appId:"",appSockets:[],pushGuid:"",m:null,pushRecepients:r.DEFAULT_PUSH_RECEPIENTS,emittEvent:"push-notif",triggerEvent:"send-notif",token:"",commTrack:{initTime:null,relayTime:null,pushed:!1,pushTime:null,relayed:!1,deliveryTime:null,delivered:!1,completed:!1,completedTime:null,cached:!1,cachedTime:null,saved:!1,savedTime:null},isNotification:null,isAppInit:null},req:null,resp:null};numericNumberReg1="^-?[0-9]\\d*(\\.\\d{1,2})?$";numericNumberReg2="/^[0-9]d*$/";numericNumberReg3=new RegExp(/^-?[0-9]\\d*(\\.\\d{1,2})?$/,"i");numericNumberReg4=new RegExp(/^[0-9]\d*$/,"i");constructor(s,h,C){this.svMenu=s,this.svNotif=h,this.svForm=C}setIconsData$(s,h){s.fields.map((C,y)=>{C.name===h&&(s.fields[y].ddlInfo.selData$=(0,e.of)(this.ddlData),s.fields[y].ddlInfo.selIndex="iconId",s.fields[y].ddlInfo.selValueField="iconName",s.fields[y].ddlInfo.selPlaceholder="...Choose")})}setDdl$(s){if(s.token){const h=new e.Subject;let C=[];return s.getFn$.subscribe(y=>{const M=y;console.log("ModulemanService::setDdl$()/response:",M),console.log("ModulemanService::setDdl$()/ddlCtx.step.fields:",s.step),M.app_state.success?(C=M.data.items,s.step.fields.map((c,D)=>{console.log("ModulemanService::setDdl$()/f.name1:",c.name),console.log("ModulemanService::setDdl$()/ddlCtx.controlName:",s.controlName),console.log("ModulemanService::setDdl$()/f:",c),c.name===s.controlName&&"ddlInfo"in c&&(console.log("ModulemanService::setDdl$()/f.name2:",c.name),s.step.fields[D].ddlInfo.selData$=(0,e.of)(M.data.items),s.step.fields[D].ddlInfo.selIndex=s.selIndex,s.step.fields[D].ddlInfo.selValueField=s.selValueField,s.step.fields[D].ddlInfo.selPlaceholder="...Choose")}),h.next(C)):(this.pushEnvelop.resp=M,this.svNotif.emitNotif(this.pushEnvelop),h.next(C))}),h.asObservable()}return(0,e.of)([])}static \u0275fac=function(h){return new(h||t)(f.\u0275\u0275inject(r.MenuService),f.\u0275\u0275inject(r.NotificationService),f.\u0275\u0275inject(r.FormsService))};static \u0275prov=f.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},6758:(_,g,i)=>{i.d(g,{c:()=>T});const r="https://cd-api.co.ke",T={appId:"",production:!1,apiEndpoint:`${r}:3001/api`,sioEndpoint:`${r}:3002`,wsEndpoint:"ws://cd-api.co.ke:3000",wsMode:"wss",pushConfig:{sio:{enabled:!0},wss:{enabled:!1},pusher:{enabled:!0,apiKey:"DtVRY9V5j41KwSxKrd8L_dRijUJh9gVcqwBH5wb96no",options:{cluster:"ap2",forceTLS:!0,userAuthentication:{endpoint:"https://cd-api.co.ke:3002/pusher/auth",transport:"ajax",params:{},headers:{},includeCredentials:!0,customHandler:null},channelAuthorization:{endpoint:"https://cd-api.co.ke:3002/pusher/auth"},authEndpoint:"https://cd-api.co.ke:3002/pusher/auth"}}},CD_PORT:3001,consumerToken:"B0B3DA99-1859-A499-90F6-1E3F69575DCD",clientContext:{entity:"ASDAP",clientAppId:2,consumerToken:"B0B3DA99-1859-A499-90F6-1E3F69575DCD"},USER_RESOURCES:"http://routed-93/user-resources",apiHost:"https://cd-api.co.ke",sioHost:"https://cd-api.co.ke",shellHost:"https://asdap.net",consumer:"",clientAppGuid:"ca0fe39f-92b2-484d-91ef-487d4fc462a2",clientAppId:2,SOCKET_IO_PORT:3002,defaultauth:"cd-auth",mfManifestPath:"/assets/mf.manifest.json",apiOptions:{headers:{"Content-Type":"application/json"}},sioOptions:{path:"/socket.io",transports:["websocket","polling"],secure:!0},firebaseConfig:{apiKey:"",authDomain:"",databaseURL:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""}}},467:(_,g,i)=>{function r(e,b,f,I,T,F,t){try{var m=e[F](t),s=m.value}catch(h){return void f(h)}m.done?b(s):Promise.resolve(s).then(I,T)}function v(e){return function(){var b=this,f=arguments;return new Promise(function(I,T){var F=e.apply(b,f);function t(s){r(F,I,T,t,m,"next",s)}function m(s){r(F,I,T,t,m,"throw",s)}t(void 0)})}}i.d(g,{A:()=>v})}}]);
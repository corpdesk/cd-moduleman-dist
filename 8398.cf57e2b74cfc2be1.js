(self.webpackChunkcd_moduleman=self.webpackChunkcd_moduleman||[]).push([[8398],{98398:(N,I,l)=>{l.r(I),l.d(I,{ConsumerResourceModule:()=>k});var i=l(35228),f=l(30533),r=l(83781),F=l(76380),h=l(92618),M=l(59707),T=l(15006),v=l(5740),_=l(77207),d=l(92526),n=l(24388),u=l(63834),m=l(37011),p=l(15861),D=l(89521),E=l.n(D),X=l(31815);const oe={series:[{name:"2020",type:"column",data:[23,42,35,27,43,22,17,31,22,22,12,16]},{name:"2019",type:"line",data:[23,32,27,38,27,32,27,38,22,31,21,16]}],chart:{height:280,type:"line",toolbar:{show:!1}},stroke:{width:[0,3],curve:"smooth"},plotOptions:{bar:{horizontal:!1,columnWidth:"20%"}},dataLabels:{enabled:!1},legend:{show:!1},colors:["#5664d2","#1cbb8c"],labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},re={series:[20,20,20,20,20],chart:{height:250,type:"donut"},labels:["Tanzania","Malawi","Eswatini","The Gambia","Ghana"],plotOptions:{pie:{donut:{size:"75%"}}},dataLabels:{enabled:!1},legend:{show:!1},colors:["#5664d2","#1cbb8c","#eeb902","red","pink"]},ne={series:[72],chart:{type:"radialBar",wight:60,height:60,sparkline:{enabled:!0}},dataLabels:{enabled:!1},colors:["#5664d2"],stroke:{lineCap:"round"},plotOptions:{radialBar:{hollow:{margin:0,size:"70%"},track:{margin:0},dataLabels:{show:!1}}}},ae={series:[65],chart:{type:"radialBar",wight:60,height:60,sparkline:{enabled:!0}},dataLabels:{enabled:!1},colors:["#1cbb8c"],stroke:{lineCap:"round"},plotOptions:{radialBar:{hollow:{margin:0,size:"70%"},track:{margin:0},dataLabels:{show:!1}}}},le=[{id:1,name:"Frank Vickery",message:"Hey! I am available",image:"assets/images/users/avatar-2.jpg",time:"12:09"},{id:2,align:"right",name:"Ricky Clark",message:"Hi, How are you? What about our next meeting?",time:"10:02"},{text:"Today"},{id:3,name:"Frank Vickery",message:"Hello!",image:"assets/images/users/avatar-2.jpg",time:"10:06"},{id:4,name:"Frank Vickery",message:"& Next meeting tomorrow 10.00AM",image:"assets/images/users/avatar-2.jpg",time:"10:06"},{id:5,align:"right",name:"Ricky Clark",message:"Wow that's great",time:"10:07"}],se=[{orderid:"#NZ1563",date:"28 Mar, 2020",billingname:"Frank Dean",total:"$164",paymentstatus:"Unpaid"},{orderid:"#NZ1564",date:"28 Mar, 2020",billingname:"Eddy Torres",total:"$141",paymentstatus:"Paid"},{orderid:"#NZ1565",date:"29 Mar, 2020",billingname:"Jamison Clark",total:"$123",paymentstatus:"Paid"},{orderid:"#NZ1566",date:"30 Mar, 2020",billingname:"Jewel Buckley",total:"$112",paymentstatus:"Paid"},{orderid:"#NZ1567",date:"31 Mar, 2020",billingname:"Jeffrey Waltz",total:"$105",paymentstatus:"Unpaid"},{orderid:"#NZ1568",date:"01 Apr, 2020",billingname:"Jefferson Allen",total:"$160",paymentstatus:"Chargeback"}],ie=[{icon:"ri-stack-line",title:"Number of Sales",value:"1459"},{icon:"ri-store-2-line",title:"Sales Revenue",value:"$ 38453"},{icon:"ri-briefcase-4-line",title:"Average Price",value:"$ 15.4"}],de={recursive:!1,maps:[{consumerId:"id",consumerName:"label",consumerResourceIcon:"icon",resources:"subItems",consumerResourceId:"parentId"},{consumerResourceGuid:"id",cdObjName:"label",consumerResourceLink:"link",consumerId:"parentId"}]};var e=l(87675),ce=l(55250),W=l(33635),Y=l(65893);class R{constructor(){this.handler=new W.Subject}broadcast(t,o={}){this.handler.next({type:t,payload:o})}subscribe(t,o){return this.handler.pipe((0,Y.filter)(s=>s.type===t)).pipe((0,Y.map)(s=>s.payload)).subscribe(o)}}R.\u0275fac=function(t){return new(t||R)},R.\u0275prov=e.\u0275\u0275defineInjectable({token:R,factory:R.\u0275fac,providedIn:"root"});var ue=l(38697);class L{constructor(t){this.http=t,this.debug=!1,this.module="",this.controller="",this.resp$=new W.Observable,this.params={ctx:"",m:"",c:"",a:"",dat:{token:""},args:{}}}proc(t){return console.log("",t),this.http.post(d.N.apiEndpoint,t,d.N.apiOptions)}}L.\u0275fac=function(t){return new(t||L)(e.\u0275\u0275inject(ue.HttpClient))},L.\u0275prov=e.\u0275\u0275defineInjectable({token:L,factory:L.\u0275fac,providedIn:"root"});class O{constructor(){this.debugMode=!1}setDebugMode(t){this.debugMode=t}transformArray(t,o){return console.log("ArrayAdapterService::transformArray()/01"),console.log("ArrayAdapterService::transformArray()/inputArray:",t),console.log("ArrayAdapterService::transformArray()/mappingPlan:",o),Array.isArray(t)?(console.log("ArrayAdapterService::transformArray()/04"),t.map((s,y)=>{if(console.log("ArrayAdapterService::transformArray()/05"),console.log("ArrayAdapterService::transformArray()/item:",s),console.log("ArrayAdapterService::transformArray()/index:",y),console.log("ArrayAdapterService::transformArray()/typeof(item):",typeof s),console.log("ArrayAdapterService::transformArray()/typeof item:",typeof s),null===s||"object"!=typeof s)return console.log("ArrayAdapterService::transformArray()/06"),this.debugMode&&(console.log("ArrayAdapterService::transformArray()/07"),this.logger.error(`Validation Error: Item at index ${y} is null or not an object. Received:`,s)),console.log("ArrayAdapterService::transformArray()/08"),{};console.log("ArrayAdapterService::transformArray()/09");const c={};for(const[b,g]of Object.entries(o))console.log("ArrayAdapterService::transformArray()/10"),s.hasOwnProperty(b)&&(console.log("ArrayAdapterService::transformArray()/11"),console.log("ArrayAdapterService::transformArray()/newKey",g),console.log("ArrayAdapterService::transformArray()/key",b),c[g]=s[b]);return console.log("ArrayAdapterService::transformArray()/13"),c})):(console.log("ArrayAdapterService::transformArray()/02"),this.debugMode&&(console.log("ArrayAdapterService::transformArray()/03"),this.logger.error("Validation Error: Input is not an array. Received:",t)),[])}}O.\u0275fac=function(t){return new(t||O)},O.\u0275prov=e.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac,providedIn:"root"});class w{constructor(){this.childrenField="subItems",this.svArrayAdapter=new O,this.svArrayAdapter.setDebugMode(!0)}adaptToTree(t,o){return console.log("TreeAdapterService::adaptToTree()/01"),console.log("TreeAdapterService::adaptToTree()/data:",t),console.log("TreeAdapterService::adaptToTree()/config:",o),o.recursive?(console.log("TreeAdapterService::adaptToTree()/02"),this.buildRecursiveTree(t,o.maps[0])):(console.log("TreeAdapterService::adaptToTree()/03"),this.buildNonRecursiveTree(t,o.maps))}convertToTree(t,o){return t}convertArray(t,o){console.log("TreeAdapterService::convertArray()/01"),console.log("TreeAdapterService::convertArray()/data:",t),console.log("TreeAdapterService::convertArray()/mappingPlan:",o);const s=this.svArrayAdapter.transformArray(t,o);return console.log("TreeAdapterService::convertArray()/ret:",s),s}buildRecursiveTree(t,o){var s=this;return Array.isArray(t)&&null===t?t.map(function(){var y=(0,p.Z)(function*(c){return yield s.mapToTreeItem(c,o,!0)});return function(c){return y.apply(this,arguments)}}()):[]}buildNonRecursiveTree(t,o){var s=this;console.log("TreeAdapterService::buildNonRecursiveTree()/01"),console.log("TreeAdapterService::buildNonRecursiveTree()/data:",t),console.log("TreeAdapterService::buildNonRecursiveTree()/maps:",o);let c=[];if(!Array.isArray(o)||null==o)return console.log("TreeAdapterService::buildNonRecursiveTree()/02"),c;const g=this.convertArray(t,o[0]);return c=g,console.log("TreeAdapterService::buildNonRegursiveTree()/transformedArray:",g),g.forEach(function(){var x=(0,p.Z)(function*(S,A){console.log("TreeAdapterService::buildNonRegursiveTree()/item[this.childrenField]:",S[s.childrenField]),console.log("TreeAdapterService::buildNonRegursiveTree()/maps[depthLevel + 1]:",o[1]);const C=yield s.convertArray(S[s.childrenField],o[1]);console.log("TreeAdapterService::buildNonRegursiveTree()/transformedItemChildren:",C),S[s.childrenField]=C,c[A][s.childrenField]=C});return function(S,A){return x.apply(this,arguments)}}()),console.log("TreeAdapterService::buildNonRegursiveTree()/transformedArray:",g),console.log("TreeAdapterService::buildNonRegursiveTree()/result:",c),c}mapToTreeItem(t,o,s){var y=this;return(0,p.Z)(function*(){return{id:t[o.id],label:t[o.label],icon:o.icon?t[o.icon]:null,link:o.link?t[o.link]:null,subItems:s&&o.subItems?yield y.buildRecursiveTree(t[o.subItems],o):null,isTitle:!!o.isTitle&&t[o.isTitle],badge:o.badge?t[o.badge]:null,parentId:t[o.parentId],isLayout:!!o.isLayout&&t[o.isLayout],moduleIsPublic:!!o.moduleIsPublic&&t[o.moduleIsPublic]}})()}}w.\u0275fac=function(t){return new(t||w)},w.\u0275prov=e.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac,providedIn:"root"});const me=["sideMenu"];function pe(a,t){if(1&a&&(e.\u0275\u0275elementStart(0,"li",20),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const o=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(o.label)}}function fe(a,t){if(1&a&&e.\u0275\u0275element(0,"i"),2&a){const o=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275classMapInterpolate1("bx ",o.icon,"")}}function he(a,t){if(1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const o=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275classMapInterpolate1("badge  rounded-pill  bg-",o.badge.variant," float-end"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(o.badge.text)}}const ye=function(a,t){return{"has-arrow":a,"has-dropdown":t}};function ve(a,t){if(1&a&&(e.\u0275\u0275elementStart(0,"a",24),e.\u0275\u0275template(1,fe,1,3,"i",25),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,he,2,4,"span",25),e.\u0275\u0275elementEnd()),2&a){const o=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(4,ye,!o.badge,o.badge)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.icon),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",o.label,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.badge)}}function be(a,t){if(1&a&&e.\u0275\u0275element(0,"i"),2&a){const o=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275classMapInterpolate1("bx ",o.icon,"")}}function ge(a,t){if(1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const o=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275classMapInterpolate1("badge  rounded-pill  bg-",o.badge.variant," float-end"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(o.badge.text)}}function Fe(a,t){if(1&a&&(e.\u0275\u0275elementStart(0,"a",26),e.\u0275\u0275template(1,be,1,3,"i",25),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,ge,2,4,"span",25),e.\u0275\u0275elementEnd()),2&a){const o=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("routerLink",o.link),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.icon),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",o.label,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.badge)}}function Te(a,t){if(1&a&&(e.\u0275\u0275elementStart(0,"a",26),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const o=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("routerLink",o.link),e.\u0275\u0275attribute("data-parent",o.parentId),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",o.label," ")}}function _e(a,t){if(1&a&&(e.\u0275\u0275elementStart(0,"a",30),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const o=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275attribute("data-parent",o.parentId),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",o.label," ")}}function Ie(a,t){if(1&a&&(e.\u0275\u0275elementStart(0,"li")(1,"a",26),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&a){const o=t.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("routerLink",o.link),e.\u0275\u0275attribute("data-parent",o.parentId),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",o.label," ")}}function Ce(a,t){if(1&a&&(e.\u0275\u0275elementStart(0,"ul",31),e.\u0275\u0275template(1,Ie,3,3,"li",16),e.\u0275\u0275elementEnd()),2&a){const o=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",o.subItems)}}function Me(a,t){if(1&a&&(e.\u0275\u0275elementStart(0,"li"),e.\u0275\u0275template(1,Te,2,3,"a",22),e.\u0275\u0275template(2,_e,2,2,"a",28),e.\u0275\u0275template(3,Ce,2,1,"ul",29),e.\u0275\u0275elementEnd()),2&a){const o=t.$implicit,s=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!s.hasItems(o)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",s.hasItems(o)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",s.hasItems(o))}}function De(a,t){if(1&a&&(e.\u0275\u0275elementStart(0,"ul",27),e.\u0275\u0275template(1,Me,4,3,"li",16),e.\u0275\u0275elementEnd()),2&a){const o=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",o.subItems)}}function Se(a,t){if(1&a&&(e.\u0275\u0275elementStart(0,"li"),e.\u0275\u0275template(1,ve,5,7,"a",21),e.\u0275\u0275template(2,Fe,5,4,"a",22),e.\u0275\u0275template(3,De,2,1,"ul",23),e.\u0275\u0275elementEnd()),2&a){const o=e.\u0275\u0275nextContext().$implicit,s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",s.hasItems(o)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!s.hasItems(o)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",s.hasItems(o))}}function Ae(a,t){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,pe,2,1,"li",18),e.\u0275\u0275template(2,Se,4,3,"li",19),e.\u0275\u0275elementContainerEnd()),2&a){const o=t.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.isTitle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.isTitle&&!o.isLayout)}}class V{constructor(t,o,s,y,c,b,g,x,S,A,C,B,J){this.aRoute=t,this.router=o,this.svBase=s,this.svNav=y,this.svNazTable=c,this.svAcl=b,this.svPage=g,this.svSess=x,this.logger=S,this.formBuilder=A,this.eventService=C,this.http=B,this.svTreeAdapter=J,this.baseModel=new n.BaseModel("moduleman","consumer-resource"),this.dSource={fields:[],data:[]},this.cardTitle="Modules",this.cardBodyId="cdModule",this.searchInputId="inputSearchModule",this.editRoute="/moduleman/consumer-rescource/edit",this.deleteRoute="/moduleman/consumer-rescource/delete",this.createRoute="/moduleman/consumer-rescource/create",this.filter={},this.tpData=n.DEFAULT_TPD,this.ddlData=n.DEFAULT_DDLD,this.menuItems=[],this.options={layers:[(0,X.tileLayer)("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"..."})],zoom:6,center:(0,X.latLng)(46.879966,-121.726909)}}ngOnInit(){this.aRoute.queryParams.subscribe(t=>{t&&this.svAcl.initComponent(t,this,this.svSess).then(o=>{console.log("ListComponent::ngOnInit()/svAcl/ret:",o)})}),this.breadCrumbItems=[{label:"ASDAP"},{label:"ConsumerResources",active:!0}],this.formData=this.formBuilder.group({message:["",[f.Validators.required]]}),this._fetchData()}ngAfterViewInit(){this.menu=new(E())(this.sideMenu.nativeElement),this._activateMenuDropdown(),this.initialize()}_fetchData(){this.revenueChart=oe,this.salesAnalytics=re,this.sparklineEarning=ne,this.sparklineMonthly=ae,this.chatData=le,this.transactions=se,this.statData=ie}get form(){return this.formData.controls}messageSave(){const t=this.formData.get("message").value,o=new Date;this.formData.valid&&t&&(this.chatData.push({align:"right",name:"Ricky Clark",message:t,time:o.getHours()+":"+o.getMinutes()}),this.formData=this.formBuilder.group({message:null})),this.chatSubmit=!0}_removeAllClass(t){const o=document.getElementsByClassName(t);for(;o[0];)o[0].classList.remove(t)}_activateMenuDropdown(){this._removeAllClass("mm-active"),this._removeAllClass("mm-show");const t=document.getElementsByClassName("side-nav-link-ref");let o=null;const s=[];for(let c=0;c<t.length;c++)s.push(t[c].pathname);const y=s.indexOf(window.location.pathname);if(-1===y){const c=window.location.pathname.lastIndexOf("/"),b=window.location.pathname.substr(0,c).toString();o=t[s.indexOf(b)]}else o=t[y];if(o){o.classList.add("active");const c=o.parentElement;if(c){c.classList.add("mm-active");const b=c.parentElement.closest("ul");if(b&&"side-menu"!==b.id){b.classList.add("mm-show");const g=b.parentElement;if(g&&"side-menu"!==g.id){g.classList.add("mm-active");const x=g.querySelector(".has-arrow"),S=g.querySelector(".has-dropdown");x&&x.classList.add("mm-active"),S&&S.classList.add("mm-active");const A=g.parentElement;if(A&&"side-menu"!==A.id){A.classList.add("mm-show");const C=A.parentElement;if(C&&"side-menu"!==C.id){C.classList.add("mm-active");const B=C.querySelector(".is-parent");B&&"side-menu"!==C.id&&B.classList.add("mm-active")}}}}}}}initialize(){var t=this;return(0,p.Z)(function*(){t.fetchData()})()}hasItems(t){return void 0!==t.subItems&&t.subItems.length>0}changeLayout(t){this.eventService.broadcast("changeLayout",t)}fetchData(){let t=this.getPostData();this.http.proc(t).subscribe(o=>{console.log("ListComponent::initialize()/this.menuItems1:",JSON.stringify(o)),this.treeItems=this.svTreeAdapter.adaptToTree(o.data.consumers,de),this.menuItems=this.treeItems,console.log("ListComponent::initialize()/this.menuItems2:",JSON.stringify(this.menuItems)),setTimeout(()=>{this.initializeMetisMenu()},0)})}initializeMetisMenu(){this.menu=new(E())(this.sideMenu.nativeElement),this._activateMenuDropdown()}getPostData(){return{ctx:"Sys",m:"Moduleman",c:"ConsumerResource",a:"GetMaped",dat:{f_vals:[{query:{select:["consumerName","consumerId","consumerGuid","consumerResourceGuid","consumerResourceName","cdObjName","consumerResourceIcon","consumerResourceLink"],where:{}}}],token:this.baseModel.jAppState.sess.cd_token},args:{}}}navToCreate(){this.svNav.sNavigate(this,this.baseModel.controllerRoutes.createRoute)}}V.\u0275fac=function(t){return new(t||V)(e.\u0275\u0275directiveInject(m.ActivatedRoute),e.\u0275\u0275directiveInject(m.Router),e.\u0275\u0275directiveInject(n.BaseService),e.\u0275\u0275directiveInject(n.NavService),e.\u0275\u0275directiveInject(u.NazTableService),e.\u0275\u0275directiveInject(n.AclService),e.\u0275\u0275directiveInject(u.PageService),e.\u0275\u0275directiveInject(n.SessService),e.\u0275\u0275directiveInject(ce.NGXLogger),e.\u0275\u0275directiveInject(f.UntypedFormBuilder),e.\u0275\u0275directiveInject(R),e.\u0275\u0275directiveInject(L),e.\u0275\u0275directiveInject(w))},V.\u0275cmp=e.\u0275\u0275defineComponent({type:V,selectors:[["app-list"]],viewQuery:function(t,o){if(1&t&&(e.\u0275\u0275viewQuery(u.NazTableComponent,5),e.\u0275\u0275viewQuery(me,5)),2&t){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(o.nazTable=s.first),e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(o.sideMenu=s.first)}},decls:50,vars:2,consts:[[1,"container-fluid"],["title","Consumer Resources",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-4"],[1,"card"],[1,"card-body"],["ngbDropdown","",1,"dropdown","float-end"],["href","javascript: void(0);","data-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"dropdown-toggle","arrow-none","card-drop"],[1,"mdi","mdi-dots-vertical"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0);",1,"dropdown-item",3,"click"],["href","javascript:void(0);",1,"dropdown-item"],[1,"card-title","mb-3"],["id","sidebar-menu"],["id","side-menu",1,"metismenu","list-unstyled"],["sideMenu",""],[4,"ngFor","ngForOf"],[1,"card-title","mb-4"],["class","menu-title",4,"ngIf"],[4,"ngIf"],[1,"menu-title"],["href","javascript:void(0);","class","is-parent",3,"ngClass",4,"ngIf"],["class","side-nav-link-ref","routerLinkActive","active",3,"routerLink",4,"ngIf"],["class","sub-menu","aria-expanded","false",4,"ngIf"],["href","javascript:void(0);",1,"is-parent",3,"ngClass"],[3,"class",4,"ngIf"],["routerLinkActive","active",1,"side-nav-link-ref",3,"routerLink"],["aria-expanded","false",1,"sub-menu"],["class","side-nav-link-a-ref has-arrow","href","javascript:void(0);",4,"ngIf"],["class","sub-menu mm-collapse","aria-expanded","false",4,"ngIf"],["href","javascript:void(0);",1,"side-nav-link-a-ref","has-arrow"],["aria-expanded","false",1,"sub-menu","mm-collapse"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-pagetitle",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),e.\u0275\u0275element(8,"i",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",9)(10,"a",10),e.\u0275\u0275listener("click",function(){return o.navToCreate()}),e.\u0275\u0275text(11,"Create"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"a",11),e.\u0275\u0275text(13,"Edit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"a",11),e.\u0275\u0275text(15,"Delete"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(16,"h4",12),e.\u0275\u0275text(17,"Consumer Trees"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div")(19,"perfect-scrollbar")(20,"div",13)(21,"ul",14,15),e.\u0275\u0275template(23,Ae,3,2,"ng-container",16),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(24,"div",3)(25,"div",4)(26,"div",5)(27,"div",6)(28,"a",7),e.\u0275\u0275element(29,"i",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",9)(31,"a",11),e.\u0275\u0275text(32,"Documentation"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"a",11),e.\u0275\u0275text(34,"Statistics"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(35,"h4",17),e.\u0275\u0275text(36,"Selected Resource Details"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(37,"div",3)(38,"div",4)(39,"div",5)(40,"div",6)(41,"a",7),e.\u0275\u0275element(42,"i",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"div",9)(44,"a",11),e.\u0275\u0275text(45,"Documentation"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"a",11),e.\u0275\u0275text(47,"Statistics"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(48,"h4",17),e.\u0275\u0275text(49,"Statistics"),e.\u0275\u0275elementEnd()()()()()()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",o.breadCrumbItems),e.\u0275\u0275advance(22),e.\u0275\u0275property("ngForOf",o.menuItems))},dependencies:[i.NgClass,i.NgForOf,i.NgIf,F.NgbDropdown,F.NgbDropdownToggle,F.NgbDropdownMenu,u.PagetitleComponent,m.RouterLink,m.RouterLinkActive]});class ${constructor(){}ngOnInit(){}}$.\u0275fac=function(t){return new(t||$)},$.\u0275cmp=e.\u0275\u0275defineComponent({type:$,selectors:[["app-edit"]],decls:2,vars:0,template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"edit works!"),e.\u0275\u0275elementEnd())}});class U{constructor(){}ngOnInit(){}}U.\u0275fac=function(t){return new(t||U)},U.\u0275cmp=e.\u0275\u0275defineComponent({type:U,selectors:[["app-delete"]],decls:2,vars:0,template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"delete works!"),e.\u0275\u0275elementEnd())}});const q=new n.FormsService,K=[{title:"ID",name:"consumerResourceId",dbName:"consumer_resource_id",type:n.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:n.ControlType.text,fieldFor:n.FieldFor.tableDisplay}],formatt:"alphanum"},{title:"Guid",name:"consumerResourceGuid",dbName:"consumer_resource_guid",type:n.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:n.ControlType.text,fieldFor:n.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"consumerResourceName",dbName:"consumer_resource_name",type:n.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:n.ControlType.text,fieldFor:n.FieldFor.createForm},{controlType:n.ControlType.text,fieldFor:n.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[f.Validators.minLength(3),f.Validators.maxLength(20),f.Validators.required]]},{title:"Enabled",name:"consumerResourceEnabled",dbName:"consumer_resource_enabled",type:n.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:n.ControlType.status,fieldFor:n.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Consumer",name:"ConsumerId",dbName:"consumer_id",type:n.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:n.ControlType.text,fieldFor:n.FieldFor.tableDisplay},{controlType:n.ControlType.searchDropDown,fieldFor:n.FieldFor.createForm}],ddlInfo:{selData$:(0,W.of)([]),selValueField:"consumerName",selIndex:"consumerId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[f.Validators.minLength(3),f.Validators.maxLength(42),f.Validators.required]]},{title:"CdObjType",name:"cdObjTypeId",dbName:"cd_obj_type_id",type:n.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:n.ControlType.text,fieldFor:n.FieldFor.tableDisplay},{controlType:n.ControlType.searchDropDown,fieldFor:n.FieldFor.createForm}],ddlInfo:{selData$:(0,W.of)([]),selValueField:"cdObjName",selIndex:"cdObjTypeId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[f.Validators.minLength(3),f.Validators.maxLength(42),f.Validators.required]]},{title:"CdObj",name:"cdObjId",dbName:"cd_obj_id",type:n.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:n.ControlType.text,fieldFor:n.FieldFor.tableDisplay}],formatt:"alphanum"},{title:"Action",name:"action",type:n.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:n.ControlType.action,fieldFor:n.FieldFor.tableDisplay},{controlType:n.ControlType.action,fieldFor:n.FieldFor.createForm}],Fn:"createMenu"},{title:"Search",name:"iconSearch",type:n.FieldType.any,controls:[],formControlsConfig:["",[]]}],Ee={data:{},valid:null,ctx:"Sys"},ee=(q.filterByFieldFor(K,n.FieldFor.createForm),{name:"ConsumerResource Wizard",steps:[{token:"",stepTitle:"Create ConsumerResource",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"consumerResourceInfo",cardTitle:"ConsumerResource Information",cardTitleDesc:"Fill all information below",module:"Moduleman",controller:"ConsumerResource",formGroup:null,fields:q.filterByFieldFor(K,n.FieldFor.createForm)}]});var xe=l(65037),G=l(41120),te=l(95855);class P{constructor(t,o,s){this.svBase=t,this.svModman=o,this.svConsumer=s}loadDdls(t,o){var s=this;return(0,p.Z)(function*(){G.g6.token=t.token,G.g6.step=o,G.g6.controlName="consumerId",console.log("ConsumerResourceFrontService::loadDdls()/consumerGetQuery:",G.H0),s.svConsumer.getConsumer$(G.H0,t.token).subscribe(y=>{console.log("ConsumerResourceFrontService::loadDdls()/ret(consumers):",y),o.fields.forEach(c=>{console.log("ConsumerResourceFrontService::loadDdls()/f(consumers):",c),"ConsumerId"===c.name&&(console.log("ConsumerResourceFrontService::loadDdls()/f.ddlInfo(consumers):",c.ddlInfo),console.log("ConsumerResourceFrontService::loadDdls()/ret.data.items:",y.data.items),c.ddlInfo.data=y.data.items)})})})()}}P.\u0275fac=function(t){return new(t||P)(e.\u0275\u0275inject(n.BaseService),e.\u0275\u0275inject(te.v),e.\u0275\u0275inject(n.ConsumerService))},P.\u0275prov=e.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac,providedIn:"root"});class z{constructor(t,o,s,y,c,b,g,x,S,A,C,B,J){this.aRoute=t,this.router=o,this.svConsumerResourceFront=s,this.svAcl=y,this.svForm=c,this.svNotif=b,this.fb=g,this.svForms=x,this.svModman=S,this.svPage=A,this.svPush=C,this.svBase=B,this.svSess=J,this.newConsumerResource=Ee,this.wizardModel=ee,this.newModule=xe.Rf,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(t=>{this.svAcl.initComponent(t,this,this.svSess).then(o=>{o&&(this.svPush.init(this),this.baseModel.data.step.token=this.baseModel.token)})})}ngAfterViewInit(){this.svConsumerResourceFront.loadDdls(this.baseModel,this.baseModel.data.step).then(t=>{console.log("cdObj/CreateComponent::ngAfterViewInit()/this.baseModel.data.step:",this.baseModel.data.step)}),this.svModman.setIconsData$(this.baseModel.data.step,"icon")}init(){this.baseModel=new n.BaseModel("Moduleman","ConsumerResource"),this.baseModel.data.fields=this.svForms.filterByFieldFor(K,n.FieldFor.createForm),this.baseModel.data.wizardModel=ee,this.baseModel.data.step=this.svForm.filterStepsByController(this.baseModel.data.wizardModel,"ConsumerResource")[0],this.baseModel.data.form=this.fb.group(this.svForm.getFormControlConfig(K)),this.baseModel.data.step.formGroup=this.baseModel.data.form,this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs("ConsumerResource","Create")}setSelectedIcon(t){this.svForm.setSelectedIcon(t,this.baseModel,this.baseModel.data.step)}save(t){let o;switch(t.controller){case"module":case"menu":break;case"cdObj":o=this.svBase.create$(this.newConsumerResource,this.baseModel.token),this.svForm.saveForm(t,this.newConsumerResource,o,this.svPush.pushEnvelop,this.svNotif)}}finishFunction(){console.log("finishing!!")}}z.\u0275fac=function(t){return new(t||z)(e.\u0275\u0275directiveInject(m.ActivatedRoute),e.\u0275\u0275directiveInject(m.Router),e.\u0275\u0275directiveInject(P),e.\u0275\u0275directiveInject(n.AclService),e.\u0275\u0275directiveInject(n.FormsService),e.\u0275\u0275directiveInject(n.NotificationService),e.\u0275\u0275directiveInject(f.FormBuilder),e.\u0275\u0275directiveInject(n.FormsService),e.\u0275\u0275directiveInject(te.v),e.\u0275\u0275directiveInject(u.PageService),e.\u0275\u0275directiveInject(n.CdPushService),e.\u0275\u0275directiveInject(n.BaseService),e.\u0275\u0275directiveInject(n.SessService))},z.\u0275cmp=e.\u0275\u0275defineComponent({type:z,selectors:[["app-create"]],decls:1,vars:2,consts:[[3,"baseModel","wizardModel","saveEmitter","relaySelIconEmitter"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"naz-table-create",0),e.\u0275\u0275listener("saveEmitter",function(y){return o.save(y)})("relaySelIconEmitter",function(y){return o.setSelectedIcon(y)}),e.\u0275\u0275elementEnd()),2&t&&e.\u0275\u0275property("baseModel",o.baseModel)("wizardModel",o.wizardModel)},dependencies:[u.CreateComponent]});var Ne=l(86106);const Re=[{path:"list",component:V},{path:"edit",component:$},{path:"delete",component:U},{path:"create",component:z},{path:"dashboard",component:Ne.M}];class j{}j.\u0275fac=function(t){return new(t||j)},j.\u0275mod=e.\u0275\u0275defineNgModule({type:j}),j.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.RouterModule.forChild(Re),m.RouterModule]});class k{}k.\u0275fac=function(t){return new(t||k)},k.\u0275mod=e.\u0275\u0275defineNgModule({type:k}),k.\u0275inj=e.\u0275\u0275defineInjector({imports:[i.CommonModule,f.FormsModule,f.ReactiveFormsModule,F.NgbNavModule,F.NgbDropdownModule,F.NgbTooltipModule,F.NgbAccordionModule,u.NazUiModule,u.NazTableModule,u.NazCreateModule,u.NazEditModule,u.NazDeleteModule,v.LeafletModule,_.TranslateModule,h.Ng2SearchPipeModule,M.ArchwizardModule,T.NgToggleModule,j,r.NgSelectModule,n.BaseModule.forChild(d.N),n.CdPushModule.forChild(d.N)]})},41120:(N,I,l)=>{l.d(I,{AO:()=>E,H0:()=>u,HX:()=>_,YM:()=>n,aN:()=>v,g6:()=>m,hR:()=>d});var i=l(30533),r=l(24388),h=l(33635);const T=new r.FormsService,v=[{title:"ID",name:"consumerId",dbName:"consumer_id",type:r.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"alphanum"},{title:"Guid",name:"consumerGuid",dbName:"consumer_guid",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"consumerName",dbName:"consumer_name",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.createForm},{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[i.Validators.minLength(3),i.Validators.maxLength(60),i.Validators.required]]},{title:"Company",name:"companyId",dbName:"company_id",type:r.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay},{controlType:r.ControlType.searchDropDown,fieldFor:r.FieldFor.createForm}],ddlInfo:{selData$:(0,h.of)([]),selValueField:"companyName",selIndex:"companyId",selPlaceholder:"...Choose",data:null},formatt:"text",disabled:!0,savable:!0,formControlsConfig:["",[i.Validators.minLength(3),i.Validators.maxLength(42),i.Validators.required]]},{title:"Enabled",name:"consumerEnabled",dbName:"consumer_enabled",type:r.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.status,fieldFor:r.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Action",name:"action",type:r.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:r.ControlType.action,fieldFor:r.FieldFor.tableDisplay},{controlType:r.ControlType.action,fieldFor:r.FieldFor.createForm}],Fn:"createConsumer"},{title:"Search",name:"iconSearch",type:r.FieldType.any,controls:[],formControlsConfig:["",[]]}],_={data:{},valid:null,ctx:"Sys"},d={token:"",stepTitle:"Create Consumer",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"consumerInfo",cardTitle:"Consumer Information",cardTitleDesc:"Fill all information below",module:"Moduleman",controller:"Consumer",formGroup:null,fields:T.filterByFieldFor(v,r.FieldFor.createForm)},n={name:"Consumer Wizard",steps:[d]},u={select:["consumerId","consumerName","consumerGuid"],where:{}},m={getFn$:null,selIndex:u.select[0],selValueField:u.select[1],fetchFields:u.select,step:null,token:null,controlName:"consumerId"},E=[{menuName:"create",menuGuid:"bd9b5bda5ab",navLocation:"/moduleman/consumer/create",actionType:r.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db59c1",navLocation:"/moduleman/consumer/dashboard",actionType:r.ActionType.navigate}]},76679:(N,I,l)=>{l.d(I,{AO:()=>D,Cq:()=>u,NG:()=>_,hA:()=>v,i0:()=>m,kx:()=>d,ni:()=>p,pt:()=>n});var i=l(30533),r=l(24388),h=l(33635);const T=new r.FormsService,v=[{title:"ID",name:"menuId",dbName:"menu_id",type:r.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"number",disabled:!0,formControlsConfig:["",[]]},{title:"Guid",name:"menuGuid",dbName:"menu_guid",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Label",name:"menuLabel",dbName:"menu_label",type:r.FieldType.string,fetchable:!0,updateable:!1,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Name",name:"menuName",dbName:"menu_name",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay},{controlType:r.ControlType.text,fieldFor:r.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[i.Validators.minLength(3),i.Validators.maxLength(25),i.Validators.required]]},{title:"MenuParent",name:"menuParentId",dbName:"menu_parent_id",type:r.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay},{controlType:r.ControlType.searchDropDown,fieldFor:r.FieldFor.createForm}],ddlInfo:{selData$:(0,h.of)([]),selValueField:"menuName",selIndex:"menuId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[i.Validators.required]]},{title:"ModuleParent",name:"moduleId",dbName:"module_id",primaryField:"menuParent",type:r.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay},{controlType:r.ControlType.searchDropDown,fieldFor:r.FieldFor.createForm}],ddlInfo:{selData$:(0,h.of)([]),selValueField:"moduleName",selIndex:"moduleId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[i.Validators.required]]},{title:"Description",name:"menuDescription",dbName:"menu_description",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay},{controlType:r.ControlType.textArea,fieldFor:r.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[i.Validators.minLength(0),i.Validators.maxLength(300)]]},{title:"Icon",name:"menuIcon",dbName:"menu_icon",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay},{controlType:r.ControlType.ddlIcons,fieldFor:r.FieldFor.createForm}],ddlInfo:{selData$:(0,h.of)([]),selValueField:"iconName",selIndex:"iconId",selPlaceholder:"...choose",ddlIconId:"iconDdlIdX",searchInputId:"searchInputIdX",searchInputName:"searchInputNameX",selectedValue:"",data:null},formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[i.Validators.minLength(2),i.Validators.maxLength(50),i.Validators.required]]},{title:"Path",name:"path",dbName:"path",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay},{controlType:r.ControlType.text,fieldFor:r.FieldFor.createForm}],formatt:"text",formControlsConfig:["",[i.Validators.minLength(3),i.Validators.maxLength(100),i.Validators.required]]},{title:"Action",name:"action",type:r.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:r.ControlType.action,fieldFor:r.FieldFor.tableDisplay},{controlType:r.ControlType.action,fieldFor:r.FieldFor.createForm}],Fn:"createMenu"},{title:"Search",name:"iconSearch",type:r.FieldType.any,controls:[],formControlsConfig:["",[]]}],_={data:{},cdObj:null,valid:null,ctx:"Sys"},d=[{toReplace:"menuLabel",replaceWith:"menuName"}],n={token:"",stepTitle:"Create Menu",stepItems:{prevButtonId:"stepToModule",lastButtonId:"endSteps"},tabPaneId:"menuInfo",cardTitle:"Menu Information",cardTitleDesc:"Every module has to have at least one menu item. You can use the + button to add more items.",module:"moduleman",controller:"menu",formGroup:null,fields:T.filterByFieldFor(v,r.FieldFor.createForm)},u={name:"Menu Wizard",steps:[n]},m={select:["menuId","menuName","menuGuid"],where:{}},p={getFn$:null,selIndex:m.select[0],selValueField:m.select[1],fetchFields:m.select,step:null,token:null,controlName:"menuParentId"},D=[{menuName:"create",menuGuid:"bd9b5bda6ab",navLocation:"/moduleman/menu/create",actionType:r.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db69c1",navLocation:"/moduleman/menu/dashboard",actionType:r.ActionType.navigate}]},65037:(N,I,l)=>{l.d(I,{AO:()=>m,GZ:()=>u,Qx:()=>T,Rf:()=>_,c_:()=>n,qh:()=>p,tL:()=>D,vk:()=>v});var i=l(30533),r=l(24388),h=l(76679);const M=new r.FormsService,T=[{title:"ID",name:"moduleId",dbName:"module_id",type:r.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"number",disabled:!0},{title:"Guid",name:"moduleGuid",dbName:"module_guid",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"moduleName",dbName:"module_name",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay},{controlType:r.ControlType.text,fieldFor:r.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[i.Validators.minLength(4),i.Validators.maxLength(20),i.Validators.required]]},{title:"Description",name:"moduleDescription",dbName:"module_description",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay},{controlType:r.ControlType.textArea,fieldFor:r.FieldFor.createForm}],formatt:"textArea",savable:!0,formControlsConfig:["",[i.Validators.minLength(0),i.Validators.maxLength(300)]]},{title:"Enabled",name:"moduleEnabled",dbName:"module_enabled",type:r.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.status,fieldFor:r.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Sys",name:"isSysModule",dbName:"is_sys_module",type:r.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.status,fieldFor:r.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[i.Validators.required]]},{title:"System Module",name:"isSys",controls:[{controlType:r.ControlType.toggleSwitch,fieldFor:r.FieldFor.createForm}],primaryField:"isSysModule",formControlsConfig:["",[]]},{title:"App Module",name:"isApp",controls:[{controlType:r.ControlType.toggleSwitch,fieldFor:r.FieldFor.createForm}],primaryField:"isSysModule",formControlsConfig:["",[]]},{title:"Action",name:"action",type:r.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:r.ControlType.action,fieldFor:r.FieldFor.createForm},{controlType:r.ControlType.action,fieldFor:r.FieldFor.tableDisplay}]}],v={controllerName:"isSysModule",selectedItem:{index:0,optControlId:"",value:"",selected:!1},controlTypes:r.ControlType.toggleSwitch,options:[{index:0,optControlId:"isSys",value:"isSys",selected:!0},{index:1,optControlId:"isApp",value:"isApp",selected:!1}]},_={valid:null,data:{},ctx:"Sys"},n={token:"",stepTitle:"Create Module",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"moduleInfo",cardTitle:"Module Information",cardTitleDesc:"Fill all information below",module:"moduleman",controller:"module",formGroup:null,fields:M.filterByFieldFor(T,r.FieldFor.createForm)},u={name:"Module Wizard",steps:[n,h.pt]},m=[{menuName:"create",menuGuid:"bd9b5bda5ab",navLocation:"/moduleman/module/create",actionType:r.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db59c1",navLocation:"/moduleman/module/dashboard",actionType:r.ActionType.navigate}],p={select:["moduleId","moduleName","moduleGuid"],where:{}},D={getFn$:null,selIndex:p.select[0],selValueField:p.select[1],fetchFields:p.select,step:null,token:null,controlName:"moduleId"}},95855:(N,I,l)=>{l.d(I,{v:()=>v});var i=l(33635),r=l(87675),h=l(24388);class v{constructor(d,n,u){this.svMenu=d,this.svNotif=n,this.svForm=u,this.ddlData={config:{suppressScrollX:!0,wheelSpeed:.3},header:{title:{lable:"Notifications",cls:"",action:null},sideLink:{lable:"View All",cls:"",action:null}},footer:{label:"View All",icon:"",action:null},data:[{label:"item 1",description:"If several languages coalesce the grammar",time:"3 min ago"},{label:"item 2",description:"It will seem like simplified English",time:"1 hr ago"},{label:"item 3",description:"If several languages coalesce the grammar",time:"4 hr ago"}]},this.pushEnvelop={pushRecepients:[],pushData:null,emittEvent:"push-notif",triggerEvent:"send-notif",req:null,resp:null},this.numericNumberReg1="^-?[0-9]\\d*(\\.\\d{1,2})?$",this.numericNumberReg2="/^[0-9]d*$/",this.numericNumberReg3=new RegExp(/^-?[0-9]\\d*(\\.\\d{1,2})?$/,"i"),this.numericNumberReg4=new RegExp(/^[0-9]\d*$/,"i")}setIconsData$(d,n){d.fields.map((u,m)=>{u.name===n&&(d.fields[m].ddlInfo.selData$=(0,i.of)(this.ddlData),d.fields[m].ddlInfo.selIndex="iconId",d.fields[m].ddlInfo.selValueField="iconName",d.fields[m].ddlInfo.selPlaceholder="...Choose")})}setDdl$(d){if(d.token){const n=new i.Subject;let u=[];return d.getFn$.subscribe(m=>{const p=m;console.log("ModulemanService::setDdl$()/response:",p),console.log("ModulemanService::setDdl$()/ddlCtx.step.fields:",d.step),p.app_state.success?(u=p.data.items,d.step.fields.map((D,E)=>{console.log("ModulemanService::setDdl$()/f.name1:",D.name),console.log("ModulemanService::setDdl$()/ddlCtx.controlName:",d.controlName),console.log("ModulemanService::setDdl$()/f:",D),D.name===d.controlName&&"ddlInfo"in D&&(console.log("ModulemanService::setDdl$()/f.name2:",D.name),d.step.fields[E].ddlInfo.selData$=(0,i.of)(p.data.items),d.step.fields[E].ddlInfo.selIndex=d.selIndex,d.step.fields[E].ddlInfo.selValueField=d.selValueField,d.step.fields[E].ddlInfo.selPlaceholder="...Choose")}),n.next(u)):(this.pushEnvelop.pushData=p,this.pushEnvelop.resp=p,this.svNotif.emitNotif(this.pushEnvelop),n.next(u))}),n.asObservable()}return(0,i.of)([])}}v.\u0275fac=function(d){return new(d||v)(r.\u0275\u0275inject(h.MenuService),r.\u0275\u0275inject(h.NotificationService),r.\u0275\u0275inject(h.FormsService))},v.\u0275prov=r.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac,providedIn:"root"})},92526:(N,I,l)=>{l.d(I,{N:()=>T});const i="https://cd-api.co.ke",T={appId:"",production:!1,apiEndpoint:`${i}:3001/api`,sioEndpoint:`${i}:3002`,wsEndpoint:"ws://cd-api.co.ke:3000",wsMode:"sio",pushConfig:{sio:{enabled:!0},wss:{enabled:!1},pusher:{enabled:!0,apiKey:"DtVRY9V5j41KwSxKrd8L_dRijUJh9gVcqwBH5wb96no",options:{cluster:"ap2",forceTLS:!0,userAuthentication:{endpoint:"https://cd-api.co.ke:3002/pusher/auth",transport:"ajax",params:{},headers:{},includeCredentials:!0,customHandler:null},channelAuthorization:{endpoint:"https://cd-api.co.ke:3002/pusher/auth"},authEndpoint:"https://cd-api.co.ke:3002/pusher/auth"}}},CD_PORT:3001,consumerToken:"B0B3DA99-1859-A499-90F6-1E3F69575DCD",USER_RESOURCES:"http://routed-93/user-resources",apiHost:"https://cd-api.co.ke",sioHost:"https://cd-api.co.ke",shellHost:"https://asdap.net",consumer:"",clientAppGuid:"ca0fe39f-92b2-484d-91ef-487d4fc462a2",clientContext:{entity:"ASDAP",clientAppId:2,consumerToken:"B0B3DA99-1859-A499-90F6-1E3F69575DCD"},clientAppId:2,SOCKET_IO_PORT:3002,defaultauth:"cd-auth",initialPage:"dashboard",mfManifestPath:"/assets/mf.manifest.json",apiOptions:{headers:{"Content-Type":"application/json"}},sioOptions:{path:"/socket.io",transports:["websocket","polling"],secure:!0},firebaseConfig:{apiKey:"",authDomain:"",databaseURL:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""}}},15861:(N,I,l)=>{function i(r,F,h,M,T,v,_){try{var d=r[v](_),n=d.value}catch(u){return void h(u)}d.done?F(n):Promise.resolve(n).then(M,T)}function f(r){return function(){var F=this,h=arguments;return new Promise(function(M,T){var v=r.apply(F,h);function _(n){i(v,M,T,_,d,"next",n)}function d(n){i(v,M,T,_,d,"throw",n)}_(void 0)})}}l.d(I,{Z:()=>f})}}]);
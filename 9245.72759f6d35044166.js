(self.webpackChunkcd_moduleman=self.webpackChunkcd_moduleman||[]).push([[9245],{91275:(L,C,i)=>{i.d(C,{AO:()=>S,CM:()=>I,GV:()=>a,IP:()=>_,J1:()=>c,aQ:()=>y,kV:()=>f,mW:()=>p,z:()=>d});var n=i(30533),t=i(24388),h=i(33635);const T=new t.FormsService,y=[{title:"ID",name:"companyId",dbName:"company_id",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"alphanum"},{title:"Guid",name:"companyGuid",dbName:"company_guid",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"companyName",dbName:"company_name",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm},{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[n.Validators.minLength(3),n.Validators.maxLength(80),n.Validators.required]]},{title:"Tags",name:"searchTags",dbName:"search_tags",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.textArea,fieldFor:t.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[n.Validators.minLength(0),n.Validators.maxLength(300)]]},{title:"CompanyType",name:"companyTypeGuid",dbName:"company_type_guid",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.searchDropDown,fieldFor:t.FieldFor.createForm}],ddlInfo:{selData$:(0,h.of)([]),selValueField:"companyName",selIndex:"companyTypeGuid",selPlaceholder:"...Choose",data:null},formatt:"text",disabled:!0,savable:!0,formControlsConfig:["",[n.Validators.minLength(3),n.Validators.maxLength(42),n.Validators.required]]},{title:"Postal",name:"postalAddress",dbName:"postal_address",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm},{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[n.Validators.minLength(1),n.Validators.maxLength(20),n.Validators.required]]},{title:"Phone",name:"phone",dbName:"phone",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm},{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[n.Validators.minLength(8),n.Validators.maxLength(80),n.Validators.required]]},{title:"Mobile",name:"mobile",dbName:"mobile",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm},{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[n.Validators.minLength(8),n.Validators.maxLength(24),n.Validators.required]]},{title:"Email",name:"email",dbName:"email",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm},{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[n.Validators.pattern(t.EMAIL_PATTERN),n.Validators.required]]},{title:"Website",name:"website",dbName:"website",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm},{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[n.Validators.pattern(t.URL_PATTERN),n.Validators.required]]},{title:"City",name:"city",dbName:"city",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm},{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[n.Validators.minLength(3),n.Validators.maxLength(20),n.Validators.required]]},{title:"Country",name:"country",dbName:"country",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm},{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[n.Validators.minLength(3),n.Validators.maxLength(20),n.Validators.required]]},{title:"Location",name:"physicalLocation",dbName:"physical_location",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm},{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[n.Validators.minLength(1),n.Validators.maxLength(80),n.Validators.required]]},{title:"Logo",name:"logo",dbName:"logo",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm},{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[n.Validators.minLength(3),n.Validators.maxLength(20),n.Validators.required]]},{title:"Enabled",name:"companyEnabled",dbName:"company_enabled",type:t.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.status,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Action",name:"action",type:t.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:t.ControlType.action,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.action,fieldFor:t.FieldFor.createForm}],Fn:"createCompany"},{title:"Search",name:"iconSearch",type:t.FieldType.any,controls:[],formControlsConfig:["",[]]}],_={data:{},valid:null,ctx:"Sys"},d={token:"",stepTitle:"Create Company",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"companyInfo",cardTitle:"Company Information",cardTitleDesc:"Fill all information below",module:"Moduleman",controller:"Company",formGroup:null,fields:T.filterByFieldFor(y,t.FieldFor.createForm)},a={name:"Company Wizard",steps:[d]},c={select:["companyId","companyName","companyGuid"],where:{}},p={getFn$:null,selIndex:c.select[0],selValueField:c.select[1],fetchFields:c.select,step:null,token:null,controlName:"companyId"},f={select:["companyTypeId","companyTypeName","companyTypeGuid"],where:{}},I={getFn$:null,selIndex:f.select[2],selValueField:f.select[1],fetchFields:f.select,step:null,token:null,controlName:"companyTypeGuid"},S=[{menuName:"create",menuGuid:"bd9b5bda5ab",navLocation:"/moduleman/company/create",actionType:t.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db59c1",navLocation:"/moduleman/company/dashboard",actionType:t.ActionType.navigate}]},9245:(L,C,i)=>{i.r(C),i.d(C,{ConsumerResourceModule:()=>V});var n=i(35228),m=i(30533),t=i(83781),F=i(76380),h=i(92618),D=i(59707),T=i(15006),y=i(5740),_=i(77207),d=i(92526),a=i(24388),c=i(63834),p=i(37011),f=i(15861),I=i(89521),S=i.n(I),X=i(31815);const oe={series:[{name:"2020",type:"column",data:[23,42,35,27,43,22,17,31,22,22,12,16]},{name:"2019",type:"line",data:[23,32,27,38,27,32,27,38,22,31,21,16]}],chart:{height:280,type:"line",toolbar:{show:!1}},stroke:{width:[0,3],curve:"smooth"},plotOptions:{bar:{horizontal:!1,columnWidth:"20%"}},dataLabels:{enabled:!1},legend:{show:!1},colors:["#5664d2","#1cbb8c"],labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},re={series:[20,20,20,20,20],chart:{height:250,type:"donut"},labels:["Tanzania","Malawi","Eswatini","The Gambia","Ghana"],plotOptions:{pie:{donut:{size:"75%"}}},dataLabels:{enabled:!1},legend:{show:!1},colors:["#5664d2","#1cbb8c","#eeb902","red","pink"]},ae={series:[72],chart:{type:"radialBar",wight:60,height:60,sparkline:{enabled:!0}},dataLabels:{enabled:!1},colors:["#5664d2"],stroke:{lineCap:"round"},plotOptions:{radialBar:{hollow:{margin:0,size:"70%"},track:{margin:0},dataLabels:{show:!1}}}},ne={series:[65],chart:{type:"radialBar",wight:60,height:60,sparkline:{enabled:!0}},dataLabels:{enabled:!1},colors:["#1cbb8c"],stroke:{lineCap:"round"},plotOptions:{radialBar:{hollow:{margin:0,size:"70%"},track:{margin:0},dataLabels:{show:!1}}}},le=[{id:1,name:"Frank Vickery",message:"Hey! I am available",image:"assets/images/users/avatar-2.jpg",time:"12:09"},{id:2,align:"right",name:"Ricky Clark",message:"Hi, How are you? What about our next meeting?",time:"10:02"},{text:"Today"},{id:3,name:"Frank Vickery",message:"Hello!",image:"assets/images/users/avatar-2.jpg",time:"10:06"},{id:4,name:"Frank Vickery",message:"& Next meeting tomorrow 10.00AM",image:"assets/images/users/avatar-2.jpg",time:"10:06"},{id:5,align:"right",name:"Ricky Clark",message:"Wow that's great",time:"10:07"}],ie=[{orderid:"#NZ1563",date:"28 Mar, 2020",billingname:"Frank Dean",total:"$164",paymentstatus:"Unpaid"},{orderid:"#NZ1564",date:"28 Mar, 2020",billingname:"Eddy Torres",total:"$141",paymentstatus:"Paid"},{orderid:"#NZ1565",date:"29 Mar, 2020",billingname:"Jamison Clark",total:"$123",paymentstatus:"Paid"},{orderid:"#NZ1566",date:"30 Mar, 2020",billingname:"Jewel Buckley",total:"$112",paymentstatus:"Paid"},{orderid:"#NZ1567",date:"31 Mar, 2020",billingname:"Jeffrey Waltz",total:"$105",paymentstatus:"Unpaid"},{orderid:"#NZ1568",date:"01 Apr, 2020",billingname:"Jefferson Allen",total:"$160",paymentstatus:"Chargeback"}],se=[{icon:"ri-stack-line",title:"Number of Sales",value:"1459"},{icon:"ri-store-2-line",title:"Sales Revenue",value:"$ 38453"},{icon:"ri-briefcase-4-line",title:"Average Price",value:"$ 15.4"}],de=[{id:69,label:"musco",icon:"ri-share-line",subItems:[{id:72,label:"level 1.1",link:"javascript: void(0);",parentId:69},{id:73,label:"level 1.1",link:"javascript: void(0);",parentId:69}]},{id:70,label:"gamscco",icon:"ri-share-line",subItems:[{id:74,label:"level 1.1",link:"javascript: void(0);",parentId:70},{id:75,label:"level 1.1",link:"javascript: void(0);",parentId:70}]},{id:71,label:"tezsco",icon:"ri-share-line",subItems:[{id:76,label:"level 1.1",link:"javascript: void(0);",parentId:71},{id:77,label:"level 1.1",link:"javascript: void(0);",parentId:71}]}],ce={recursive:!1,maps:[{consumerId:"id",consumerName:"label",consumerResourceIcon:"icon",resources:"subItems",consumerResourceId:"parentId"},{consumerResourceGuid:"id",cdObjName:"label",consumerResourceLink:"link",consumerId:"parentId"}]};var e=i(87675),ue=i(55250),$=i(33635),Y=i(65893);class R{constructor(){this.handler=new $.Subject}broadcast(o,r={}){this.handler.next({type:o,payload:r})}subscribe(o,r){return this.handler.pipe((0,Y.filter)(s=>s.type===o)).pipe((0,Y.map)(s=>s.payload)).subscribe(r)}}R.\u0275fac=function(o){return new(o||R)},R.\u0275prov=e.\u0275\u0275defineInjectable({token:R,factory:R.\u0275fac,providedIn:"root"});var me=i(38697);class w{constructor(o){this.http=o,this.debug=!1,this.module="",this.controller="",this.resp$=new $.Observable,this.params={ctx:"",m:"",c:"",a:"",dat:{token:""},args:{}}}proc(o){return console.log("",o),this.http.post(d.N.apiEndpoint,o,d.N.apiOptions)}}w.\u0275fac=function(o){return new(o||w)(e.\u0275\u0275inject(me.HttpClient))},w.\u0275prov=e.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac,providedIn:"root"});class j{constructor(){this.debugMode=!1}setDebugMode(o){this.debugMode=o}transformArray(o,r){return console.log("ArrayAdapterService::transformArray()/01"),console.log("ArrayAdapterService::transformArray()/inputArray:",o),console.log("ArrayAdapterService::transformArray()/mappingPlan:",r),Array.isArray(o)?(console.log("ArrayAdapterService::transformArray()/04"),o.map((s,b)=>{if(console.log("ArrayAdapterService::transformArray()/05"),console.log("ArrayAdapterService::transformArray()/item:",s),console.log("ArrayAdapterService::transformArray()/index:",b),console.log("ArrayAdapterService::transformArray()/typeof(item):",typeof s),console.log("ArrayAdapterService::transformArray()/typeof item:",typeof s),null===s||"object"!=typeof s)return console.log("ArrayAdapterService::transformArray()/06"),this.debugMode&&(console.log("ArrayAdapterService::transformArray()/07"),this.logger.error(`Validation Error: Item at index ${b} is null or not an object. Received:`,s)),console.log("ArrayAdapterService::transformArray()/08"),{};console.log("ArrayAdapterService::transformArray()/09");const u={};for(const[v,g]of Object.entries(r))console.log("ArrayAdapterService::transformArray()/10"),s.hasOwnProperty(v)&&(console.log("ArrayAdapterService::transformArray()/11"),console.log("ArrayAdapterService::transformArray()/newKey",g),console.log("ArrayAdapterService::transformArray()/key",v),u[g]=s[v]);return console.log("ArrayAdapterService::transformArray()/13"),u})):(console.log("ArrayAdapterService::transformArray()/02"),this.debugMode&&(console.log("ArrayAdapterService::transformArray()/03"),this.logger.error("Validation Error: Input is not an array. Received:",o)),[])}}j.\u0275fac=function(o){return new(o||j)},j.\u0275prov=e.\u0275\u0275defineInjectable({token:j,factory:j.\u0275fac,providedIn:"root"});class O{constructor(){this.childrenField="subItems",this.svArrayAdapter=new j,this.svArrayAdapter.setDebugMode(!0)}adaptToTree(o,r){return console.log("TreeAdapterService::adaptToTree()/01"),console.log("TreeAdapterService::adaptToTree()/data:",o),console.log("TreeAdapterService::adaptToTree()/config:",r),r.recursive?(console.log("TreeAdapterService::adaptToTree()/02"),this.buildRecursiveTree(o,r.maps[0])):(console.log("TreeAdapterService::adaptToTree()/03"),this.buildNonRecursiveTree(o,r.maps))}convertToTree(o,r){return o}convertArray(o,r){console.log("TreeAdapterService::convertArray()/01"),console.log("TreeAdapterService::convertArray()/data:",o),console.log("TreeAdapterService::convertArray()/mappingPlan:",r);const s=this.svArrayAdapter.transformArray(o,r);return console.log("TreeAdapterService::convertArray()/ret:",s),s}buildRecursiveTree(o,r){var s=this;return Array.isArray(o)&&null===o?o.map(function(){var b=(0,f.Z)(function*(u){return yield s.mapToTreeItem(u,r,!0)});return function(u){return b.apply(this,arguments)}}()):[]}buildNonRecursiveTree(o,r){var s=this;console.log("TreeAdapterService::buildNonRecursiveTree()/01"),console.log("TreeAdapterService::buildNonRecursiveTree()/data:",o),console.log("TreeAdapterService::buildNonRecursiveTree()/maps:",r);let u=[];if(!Array.isArray(r)||null==r)return console.log("TreeAdapterService::buildNonRecursiveTree()/02"),u;const g=this.convertArray(o,r[0]);return u=g,console.log("TreeAdapterService::buildNonRegursiveTree()/transformedArray:",g),g.forEach(function(){var E=(0,f.Z)(function*(M,A){console.log("TreeAdapterService::buildNonRegursiveTree()/item[this.childrenField]:",M[s.childrenField]),console.log("TreeAdapterService::buildNonRegursiveTree()/maps[depthLevel + 1]:",r[1]);const x=yield s.convertArray(M[s.childrenField],r[1]);console.log("TreeAdapterService::buildNonRegursiveTree()/transformedItemChildren:",x),M[s.childrenField]=x,u[A][s.childrenField]=x});return function(M,A){return E.apply(this,arguments)}}()),console.log("TreeAdapterService::buildNonRegursiveTree()/transformedArray:",g),console.log("TreeAdapterService::buildNonRegursiveTree()/result:",u),u}mapToTreeItem(o,r,s){var b=this;return(0,f.Z)(function*(){return{id:o[r.id],label:o[r.label],icon:r.icon?o[r.icon]:null,link:r.link?o[r.link]:null,subItems:s&&r.subItems?yield b.buildRecursiveTree(o[r.subItems],r):null,isTitle:!!r.isTitle&&o[r.isTitle],badge:r.badge?o[r.badge]:null,parentId:o[r.parentId],isLayout:!!r.isLayout&&o[r.isLayout],moduleIsPublic:!!r.moduleIsPublic&&o[r.moduleIsPublic]}})()}}O.\u0275fac=function(o){return new(o||O)},O.\u0275prov=e.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac,providedIn:"root"});const pe=["sideMenu"];function fe(l,o){if(1&l&&(e.\u0275\u0275elementStart(0,"li",20),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&l){const r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(r.label)}}function he(l,o){if(1&l&&e.\u0275\u0275element(0,"i"),2&l){const r=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275classMapInterpolate1("bx ",r.icon,"")}}function ye(l,o){if(1&l&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&l){const r=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275classMapInterpolate1("badge  rounded-pill  bg-",r.badge.variant," float-end"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(r.badge.text)}}const be=function(l,o){return{"has-arrow":l,"has-dropdown":o}};function ve(l,o){if(1&l&&(e.\u0275\u0275elementStart(0,"a",24),e.\u0275\u0275template(1,he,1,3,"i",25),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,ye,2,4,"span",25),e.\u0275\u0275elementEnd()),2&l){const r=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(4,be,!r.badge,r.badge)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.icon),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",r.label,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.badge)}}function ge(l,o){if(1&l&&e.\u0275\u0275element(0,"i"),2&l){const r=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275classMapInterpolate1("bx ",r.icon,"")}}function Fe(l,o){if(1&l&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&l){const r=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275classMapInterpolate1("badge  rounded-pill  bg-",r.badge.variant," float-end"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(r.badge.text)}}function Te(l,o){if(1&l&&(e.\u0275\u0275elementStart(0,"a",26),e.\u0275\u0275template(1,ge,1,3,"i",25),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Fe,2,4,"span",25),e.\u0275\u0275elementEnd()),2&l){const r=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("routerLink",r.link),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.icon),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",r.label,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.badge)}}function _e(l,o){if(1&l&&(e.\u0275\u0275elementStart(0,"a",26),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&l){const r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("routerLink",r.link),e.\u0275\u0275attribute("data-parent",r.parentId),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",r.label," ")}}function Ce(l,o){if(1&l&&(e.\u0275\u0275elementStart(0,"a",30),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&l){const r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275attribute("data-parent",r.parentId),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",r.label," ")}}function Ie(l,o){if(1&l&&(e.\u0275\u0275elementStart(0,"li")(1,"a",26),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&l){const r=o.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("routerLink",r.link),e.\u0275\u0275attribute("data-parent",r.parentId),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",r.label," ")}}function xe(l,o){if(1&l&&(e.\u0275\u0275elementStart(0,"ul",31),e.\u0275\u0275template(1,Ie,3,3,"li",16),e.\u0275\u0275elementEnd()),2&l){const r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",r.subItems)}}function De(l,o){if(1&l&&(e.\u0275\u0275elementStart(0,"li"),e.\u0275\u0275template(1,_e,2,3,"a",22),e.\u0275\u0275template(2,Ce,2,2,"a",28),e.\u0275\u0275template(3,xe,2,1,"ul",29),e.\u0275\u0275elementEnd()),2&l){const r=o.$implicit,s=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!s.hasItems(r)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",s.hasItems(r)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",s.hasItems(r))}}function Me(l,o){if(1&l&&(e.\u0275\u0275elementStart(0,"ul",27),e.\u0275\u0275template(1,De,4,3,"li",16),e.\u0275\u0275elementEnd()),2&l){const r=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",r.subItems)}}function Ae(l,o){if(1&l&&(e.\u0275\u0275elementStart(0,"li"),e.\u0275\u0275template(1,ve,5,7,"a",21),e.\u0275\u0275template(2,Te,5,4,"a",22),e.\u0275\u0275template(3,Me,2,1,"ul",23),e.\u0275\u0275elementEnd()),2&l){const r=e.\u0275\u0275nextContext().$implicit,s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",s.hasItems(r)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!s.hasItems(r)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",s.hasItems(r))}}function Se(l,o){if(1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,fe,2,1,"li",18),e.\u0275\u0275template(2,Ae,4,3,"li",19),e.\u0275\u0275elementContainerEnd()),2&l){const r=o.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.isTitle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!r.isTitle&&!r.isLayout)}}class U{constructor(o,r,s,b,u,v,g,E,M,A,x,B,J){this.aRoute=o,this.router=r,this.svBase=s,this.svNav=b,this.svNazTable=u,this.svAcl=v,this.svPage=g,this.svSess=E,this.logger=M,this.formBuilder=A,this.eventService=x,this.http=B,this.svTreeAdapter=J,this.baseModel=new a.BaseModel("moduleman","consumer-rescource"),this.dSource={fields:[],data:[]},this.cardTitle="Modules",this.cardBodyId="cdModule",this.searchInputId="inputSearchModule",this.editRoute="/moduleman/consumer-rescource/edit",this.deleteRoute="/moduleman/consumer-rescource/delete",this.createRoute="/moduleman/consumer-rescource/create",this.filter={},this.tpData=a.DEFAULT_TPD,this.ddlData=a.DEFAULT_DDLD,this.menuItems=[],this.options={layers:[(0,X.tileLayer)("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"..."})],zoom:6,center:(0,X.latLng)(46.879966,-121.726909)}}ngOnInit(){this.aRoute.queryParams.subscribe(o=>{o&&this.svAcl.initComponent(o,this,this.svSess).then(r=>{console.log("ListComponent::ngOnInit()/svAcl/ret:",r)})}),this.breadCrumbItems=[{label:"ASDAP"},{label:"ConsumerResources",active:!0}],this.formData=this.formBuilder.group({message:["",[m.Validators.required]]}),this._fetchData()}ngAfterViewInit(){this.menu=new(S())(this.sideMenu.nativeElement),this._activateMenuDropdown(),this.initialize()}_fetchData(){this.revenueChart=oe,this.salesAnalytics=re,this.sparklineEarning=ae,this.sparklineMonthly=ne,this.chatData=le,this.transactions=ie,this.statData=se}get form(){return this.formData.controls}messageSave(){const o=this.formData.get("message").value,r=new Date;this.formData.valid&&o&&(this.chatData.push({align:"right",name:"Ricky Clark",message:o,time:r.getHours()+":"+r.getMinutes()}),this.formData=this.formBuilder.group({message:null})),this.chatSubmit=!0}_removeAllClass(o){const r=document.getElementsByClassName(o);for(;r[0];)r[0].classList.remove(o)}_activateMenuDropdown(){this._removeAllClass("mm-active"),this._removeAllClass("mm-show");const o=document.getElementsByClassName("side-nav-link-ref");let r=null;const s=[];for(let u=0;u<o.length;u++)s.push(o[u].pathname);const b=s.indexOf(window.location.pathname);if(-1===b){const u=window.location.pathname.lastIndexOf("/"),v=window.location.pathname.substr(0,u).toString();r=o[s.indexOf(v)]}else r=o[b];if(r){r.classList.add("active");const u=r.parentElement;if(u){u.classList.add("mm-active");const v=u.parentElement.closest("ul");if(v&&"side-menu"!==v.id){v.classList.add("mm-show");const g=v.parentElement;if(g&&"side-menu"!==g.id){g.classList.add("mm-active");const E=g.querySelector(".has-arrow"),M=g.querySelector(".has-dropdown");E&&E.classList.add("mm-active"),M&&M.classList.add("mm-active");const A=g.parentElement;if(A&&"side-menu"!==A.id){A.classList.add("mm-show");const x=A.parentElement;if(x&&"side-menu"!==x.id){x.classList.add("mm-active");const B=x.querySelector(".is-parent");B&&"side-menu"!==x.id&&B.classList.add("mm-active")}}}}}}}initialize(){var o=this;return(0,f.Z)(function*(){console.log("ListComponent::ngOnInit()/this.BaseModel",o.baseModel),console.log("ListComponent::ngOnInit()/sid:",o.baseModel.jAppState.sess.cd_token),o.menuItems=de,o.fetchData()})()}hasItems(o){return void 0!==o.subItems&&o.subItems.length>0}changeLayout(o){this.eventService.broadcast("changeLayout",o)}fetchData(){let o=this.getPostData();this.http.proc(o).subscribe(r=>{console.log("ListComponent::initialize()/this.menuItems1:",JSON.stringify(r)),this.treeItems=this.svTreeAdapter.adaptToTree(r.data.consumers,ce),this.menuItems=this.treeItems,console.log("ListComponent::initialize()/this.menuItems2:",JSON.stringify(this.menuItems)),setTimeout(()=>{this.initializeMetisMenu()},2)})}initializeMetisMenu(){this.menu=new(S())(this.sideMenu.nativeElement),this._activateMenuDropdown()}getPostData(){return{ctx:"Sys",m:"Moduleman",c:"ConsumerResource",a:"GetMaped",dat:{f_vals:[{query:{select:["consumerName","consumerId","consumerGuid","consumerResourceGuid","consumerResourceName","cdObjName","consumerResourceIcon","consumerResourceLink"],where:{}}}],token:this.baseModel.jAppState.sess.cd_token},args:{}}}navToCreate(){this.svNav.sNavigate(this,this.baseModel.controllerRoutes.createRoute)}}U.\u0275fac=function(o){return new(o||U)(e.\u0275\u0275directiveInject(p.ActivatedRoute),e.\u0275\u0275directiveInject(p.Router),e.\u0275\u0275directiveInject(a.BaseService),e.\u0275\u0275directiveInject(a.NavService),e.\u0275\u0275directiveInject(c.NazTableService),e.\u0275\u0275directiveInject(a.AclService),e.\u0275\u0275directiveInject(c.PageService),e.\u0275\u0275directiveInject(a.SessService),e.\u0275\u0275directiveInject(ue.NGXLogger),e.\u0275\u0275directiveInject(m.UntypedFormBuilder),e.\u0275\u0275directiveInject(R),e.\u0275\u0275directiveInject(w),e.\u0275\u0275directiveInject(O))},U.\u0275cmp=e.\u0275\u0275defineComponent({type:U,selectors:[["app-list"]],viewQuery:function(o,r){if(1&o&&(e.\u0275\u0275viewQuery(c.NazTableComponent,5),e.\u0275\u0275viewQuery(pe,5)),2&o){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(r.nazTable=s.first),e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(r.sideMenu=s.first)}},decls:50,vars:2,consts:[[1,"container-fluid"],["title","Consumer Resources",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-4"],[1,"card"],[1,"card-body"],["ngbDropdown","",1,"dropdown","float-end"],["href","javascript: void(0);","data-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"dropdown-toggle","arrow-none","card-drop"],[1,"mdi","mdi-dots-vertical"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0);",1,"dropdown-item",3,"click"],["href","javascript:void(0);",1,"dropdown-item"],[1,"card-title","mb-3"],["id","sidebar-menu"],["id","side-menu",1,"metismenu","list-unstyled"],["sideMenu",""],[4,"ngFor","ngForOf"],[1,"card-title","mb-4"],["class","menu-title",4,"ngIf"],[4,"ngIf"],[1,"menu-title"],["href","javascript:void(0);","class","is-parent",3,"ngClass",4,"ngIf"],["class","side-nav-link-ref","routerLinkActive","active",3,"routerLink",4,"ngIf"],["class","sub-menu","aria-expanded","false",4,"ngIf"],["href","javascript:void(0);",1,"is-parent",3,"ngClass"],[3,"class",4,"ngIf"],["routerLinkActive","active",1,"side-nav-link-ref",3,"routerLink"],["aria-expanded","false",1,"sub-menu"],["class","side-nav-link-a-ref has-arrow","href","javascript:void(0);",4,"ngIf"],["class","sub-menu mm-collapse","aria-expanded","false",4,"ngIf"],["href","javascript:void(0);",1,"side-nav-link-a-ref","has-arrow"],["aria-expanded","false",1,"sub-menu","mm-collapse"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-pagetitle",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),e.\u0275\u0275element(8,"i",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",9)(10,"a",10),e.\u0275\u0275listener("click",function(){return r.navToCreate()}),e.\u0275\u0275text(11,"Create"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"a",11),e.\u0275\u0275text(13,"Edit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"a",11),e.\u0275\u0275text(15,"Delete"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(16,"h4",12),e.\u0275\u0275text(17,"Consumer Trees"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div")(19,"perfect-scrollbar")(20,"div",13)(21,"ul",14,15),e.\u0275\u0275template(23,Se,3,2,"ng-container",16),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(24,"div",3)(25,"div",4)(26,"div",5)(27,"div",6)(28,"a",7),e.\u0275\u0275element(29,"i",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",9)(31,"a",11),e.\u0275\u0275text(32,"Documentation"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"a",11),e.\u0275\u0275text(34,"Statistics"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(35,"h4",17),e.\u0275\u0275text(36,"Selected Resource Details"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(37,"div",3)(38,"div",4)(39,"div",5)(40,"div",6)(41,"a",7),e.\u0275\u0275element(42,"i",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"div",9)(44,"a",11),e.\u0275\u0275text(45,"Documentation"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"a",11),e.\u0275\u0275text(47,"Statistics"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(48,"h4",17),e.\u0275\u0275text(49,"Statistics"),e.\u0275\u0275elementEnd()()()()()()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",r.breadCrumbItems),e.\u0275\u0275advance(22),e.\u0275\u0275property("ngForOf",r.menuItems))},dependencies:[n.NgClass,n.NgForOf,n.NgIf,F.NgbDropdown,F.NgbDropdownToggle,F.NgbDropdownMenu,c.PagetitleComponent,p.RouterLink,p.RouterLinkActive]});class G{constructor(){}ngOnInit(){}}G.\u0275fac=function(o){return new(o||G)},G.\u0275cmp=e.\u0275\u0275defineComponent({type:G,selectors:[["app-edit"]],decls:2,vars:0,template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"edit works!"),e.\u0275\u0275elementEnd())}});class z{constructor(){}ngOnInit(){}}z.\u0275fac=function(o){return new(o||z)},z.\u0275cmp=e.\u0275\u0275defineComponent({type:z,selectors:[["app-delete"]],decls:2,vars:0,template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"delete works!"),e.\u0275\u0275elementEnd())}});const q=new a.FormsService,K=[{title:"ID",name:"consumerResourceId",dbName:"consumer_resource_id",type:a.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:a.ControlType.text,fieldFor:a.FieldFor.tableDisplay}],formatt:"alphanum"},{title:"Guid",name:"consumerResourceGuid",dbName:"consumer_resource_guid",type:a.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:a.ControlType.text,fieldFor:a.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"consumerResourceName",dbName:"consumer_resource_name",type:a.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:a.ControlType.text,fieldFor:a.FieldFor.createForm},{controlType:a.ControlType.text,fieldFor:a.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[m.Validators.minLength(3),m.Validators.maxLength(20),m.Validators.required]]},{title:"ConsumerResourceType",name:"consumerResourceTypeId",dbName:"consumer_resource_type_id",type:a.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:a.ControlType.text,fieldFor:a.FieldFor.tableDisplay},{controlType:a.ControlType.searchDropDown,fieldFor:a.FieldFor.createForm}],ddlInfo:{selData$:(0,$.of)([]),selValueField:"consumerResourceName",selIndex:"consumerResourceTypeId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[m.Validators.minLength(3),m.Validators.maxLength(42),m.Validators.required]]},{title:"CdObjType",name:"cdObjTypeId",dbName:"cd_obj_type_id",type:a.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:a.ControlType.text,fieldFor:a.FieldFor.tableDisplay},{controlType:a.ControlType.searchDropDown,fieldFor:a.FieldFor.createForm}],ddlInfo:{selData$:(0,$.of)([]),selValueField:"cdObjName",selIndex:"cdObjTypeId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[m.Validators.minLength(3),m.Validators.maxLength(42),m.Validators.required]]},{title:"Enabled",name:"consumerResourceEnabled",dbName:"consumer_resource_enabled",type:a.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:a.ControlType.status,fieldFor:a.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"ConsumerID",name:"consumerId",dbName:"consumer_id",type:a.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:a.ControlType.text,fieldFor:a.FieldFor.tableDisplay}],formatt:"alphanum"},{title:"CdObjID",name:"cdObjId",dbName:"cd_obj_id",type:a.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:a.ControlType.text,fieldFor:a.FieldFor.tableDisplay}],formatt:"alphanum"},{title:"CdObjType",name:"cdObjTypeGuid",dbName:"cd_obj_type_guid",type:a.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:a.ControlType.text,fieldFor:a.FieldFor.tableDisplay},{controlType:a.ControlType.searchDropDown,fieldFor:a.FieldFor.createForm}],ddlInfo:{selData$:(0,$.of)([]),selValueField:"cdObjName",selIndex:"cdObjTypeGuid",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[m.Validators.minLength(3),m.Validators.maxLength(42),m.Validators.required]]},{title:"Action",name:"action",type:a.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:a.ControlType.action,fieldFor:a.FieldFor.tableDisplay},{controlType:a.ControlType.action,fieldFor:a.FieldFor.createForm}],Fn:"createMenu"},{title:"Search",name:"iconSearch",type:a.FieldType.any,controls:[],formControlsConfig:["",[]]}],Ee={data:{},valid:null,ctx:"Sys"},ee=(q.filterByFieldFor(K,a.FieldFor.createForm),{name:"ConsumerResource Wizard",steps:[{token:"",stepTitle:"Create ConsumerResource",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"consumerResourceInfo",cardTitle:"ConsumerResource Information",cardTitleDesc:"Fill all information below",module:"Moduleman",controller:"ConsumerResource",formGroup:null,fields:q.filterByFieldFor(K,a.FieldFor.createForm)}]});var Ne=i(65037),N=i(91275),te=i(95855);class P{constructor(o,r){this.svBase=o,this.svModman=r}loadDdls(o,r){var s=this;return(0,f.Z)(function*(){N.mW.token=o.token,N.mW.step=r,N.mW.controlName="companyId",console.log("ConsumerModService::loadDdls()/companyGetQuery:",N.J1),N.mW.getFn$=s.svBase.getPaged$(N.J1,o.token,"Sys","Moduleman","Company"),yield s.svModman.setDdl$(yield N.mW).subscribe(b=>{console.log("menu/ConsumerModService::loadDdls()/ret(companies):",b),r.fields.forEach(u=>{"companyId"===u.name&&(u.ddlInfo.data=b)})})})()}}P.\u0275fac=function(o){return new(o||P)(e.\u0275\u0275inject(a.BaseService),e.\u0275\u0275inject(te.v))},P.\u0275prov=e.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac,providedIn:"root"});class W{constructor(o,r,s,b,u,v,g,E,M,A,x,B,J){this.aRoute=o,this.router=r,this.svConsumerResourceFront=s,this.svAcl=b,this.svForm=u,this.svNotif=v,this.fb=g,this.svForms=E,this.svModman=M,this.svPage=A,this.svPush=x,this.svBase=B,this.svSess=J,this.newConsumerResource=Ee,this.wizardModel=ee,this.newModule=Ne.Rf,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(o=>{this.svAcl.initComponent(o,this,this.svSess).then(r=>{r&&(this.svPush.init(this),this.baseModel.data.step.token=this.baseModel.token)})})}ngAfterViewInit(){this.svConsumerResourceFront.loadDdls(this.baseModel,this.baseModel.data.step).then(o=>{console.log("cdObj/CreateComponent::ngAfterViewInit()/this.baseModel.data.step:",this.baseModel.data.step)}),this.svModman.setIconsData$(this.baseModel.data.step,"icon")}init(){this.baseModel=new a.BaseModel("Moduleman","ConsumerResource"),this.baseModel.data.fields=this.svForms.filterByFieldFor(K,a.FieldFor.createForm),this.baseModel.data.wizardModel=ee,this.baseModel.data.step=this.svForm.filterStepsByController(this.baseModel.data.wizardModel,"ConsumerResource")[0],this.baseModel.data.form=this.fb.group(this.svForm.getFormControlConfig(K)),this.baseModel.data.step.formGroup=this.baseModel.data.form,this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs("ConsumerResource","Create")}setSelectedIcon(o){this.svForm.setSelectedIcon(o,this.baseModel,this.baseModel.data.step)}save(o){let r;switch(o.controller){case"module":case"menu":break;case"cdObj":r=this.svBase.create$(this.newConsumerResource,this.baseModel.token),this.svForm.saveForm(o,this.newConsumerResource,r,this.svPush.pushEnvelop,this.svNotif)}}finishFunction(){console.log("finishing!!")}}W.\u0275fac=function(o){return new(o||W)(e.\u0275\u0275directiveInject(p.ActivatedRoute),e.\u0275\u0275directiveInject(p.Router),e.\u0275\u0275directiveInject(P),e.\u0275\u0275directiveInject(a.AclService),e.\u0275\u0275directiveInject(a.FormsService),e.\u0275\u0275directiveInject(a.NotificationService),e.\u0275\u0275directiveInject(m.FormBuilder),e.\u0275\u0275directiveInject(a.FormsService),e.\u0275\u0275directiveInject(te.v),e.\u0275\u0275directiveInject(c.PageService),e.\u0275\u0275directiveInject(a.CdPushService),e.\u0275\u0275directiveInject(a.BaseService),e.\u0275\u0275directiveInject(a.SessService))},W.\u0275cmp=e.\u0275\u0275defineComponent({type:W,selectors:[["app-create"]],decls:1,vars:2,consts:[[3,"baseModel","wizardModel","saveEmitter","relaySelIconEmitter"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"naz-table-create",0),e.\u0275\u0275listener("saveEmitter",function(b){return r.save(b)})("relaySelIconEmitter",function(b){return r.setSelectedIcon(b)}),e.\u0275\u0275elementEnd()),2&o&&e.\u0275\u0275property("baseModel",r.baseModel)("wizardModel",r.wizardModel)},dependencies:[c.CreateComponent]});var Le=i(86106);const Re=[{path:"list",component:U},{path:"edit",component:G},{path:"delete",component:z},{path:"create",component:W},{path:"dashboard",component:Le.M}];class k{}k.\u0275fac=function(o){return new(o||k)},k.\u0275mod=e.\u0275\u0275defineNgModule({type:k}),k.\u0275inj=e.\u0275\u0275defineInjector({imports:[p.RouterModule.forChild(Re),p.RouterModule]});class V{}V.\u0275fac=function(o){return new(o||V)},V.\u0275mod=e.\u0275\u0275defineNgModule({type:V}),V.\u0275inj=e.\u0275\u0275defineInjector({imports:[n.CommonModule,m.FormsModule,m.ReactiveFormsModule,F.NgbNavModule,F.NgbDropdownModule,F.NgbTooltipModule,F.NgbAccordionModule,c.NazUiModule,c.NazTableModule,c.NazCreateModule,c.NazEditModule,c.NazDeleteModule,y.LeafletModule,_.TranslateModule,h.Ng2SearchPipeModule,D.ArchwizardModule,T.NgToggleModule,k,t.NgSelectModule,a.BaseModule.forChild(d.N),a.CdPushModule.forChild(d.N)]})},76679:(L,C,i)=>{i.d(C,{AO:()=>I,Cq:()=>c,NG:()=>_,hA:()=>y,i0:()=>p,kx:()=>d,ni:()=>f,pt:()=>a});var n=i(30533),t=i(24388),h=i(33635);const T=new t.FormsService,y=[{title:"ID",name:"menuId",dbName:"menu_id",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"number",disabled:!0,formControlsConfig:["",[]]},{title:"Guid",name:"menuGuid",dbName:"menu_guid",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Label",name:"menuLabel",dbName:"menu_label",type:t.FieldType.string,fetchable:!0,updateable:!1,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Name",name:"menuName",dbName:"menu_name",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[n.Validators.minLength(3),n.Validators.maxLength(25),n.Validators.required]]},{title:"MenuParent",name:"menuParentId",dbName:"menu_parent_id",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.searchDropDown,fieldFor:t.FieldFor.createForm}],ddlInfo:{selData$:(0,h.of)([]),selValueField:"menuName",selIndex:"menuId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[n.Validators.required]]},{title:"ModuleParent",name:"moduleId",dbName:"module_id",primaryField:"menuParent",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.searchDropDown,fieldFor:t.FieldFor.createForm}],ddlInfo:{selData$:(0,h.of)([]),selValueField:"moduleName",selIndex:"moduleId",selPlaceholder:"...Choose",data:null},formatt:"number",disabled:!0,savable:!0,formControlsConfig:["",[n.Validators.required]]},{title:"Description",name:"menuDescription",dbName:"menu_description",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.textArea,fieldFor:t.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[n.Validators.minLength(0),n.Validators.maxLength(300)]]},{title:"Icon",name:"menuIcon",dbName:"menu_icon",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.ddlIcons,fieldFor:t.FieldFor.createForm}],ddlInfo:{selData$:(0,h.of)([]),selValueField:"iconName",selIndex:"iconId",selPlaceholder:"...choose",ddlIconId:"iconDdlIdX",searchInputId:"searchInputIdX",searchInputName:"searchInputNameX",selectedValue:"",data:null},formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[n.Validators.minLength(2),n.Validators.maxLength(50),n.Validators.required]]},{title:"Path",name:"path",dbName:"path",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm}],formatt:"text",formControlsConfig:["",[n.Validators.minLength(3),n.Validators.maxLength(100),n.Validators.required]]},{title:"Action",name:"action",type:t.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:t.ControlType.action,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.action,fieldFor:t.FieldFor.createForm}],Fn:"createMenu"},{title:"Search",name:"iconSearch",type:t.FieldType.any,controls:[],formControlsConfig:["",[]]}],_={data:{},cdObj:null,valid:null,ctx:"Sys"},d=[{toReplace:"menuLabel",replaceWith:"menuName"}],a={token:"",stepTitle:"Create Menu",stepItems:{prevButtonId:"stepToModule",lastButtonId:"endSteps"},tabPaneId:"menuInfo",cardTitle:"Menu Information",cardTitleDesc:"Every module has to have at least one menu item. You can use the + button to add more items.",module:"moduleman",controller:"menu",formGroup:null,fields:T.filterByFieldFor(y,t.FieldFor.createForm)},c={name:"Menu Wizard",steps:[a]},p={select:["menuId","menuName","menuGuid"],where:{}},f={getFn$:null,selIndex:p.select[0],selValueField:p.select[1],fetchFields:p.select,step:null,token:null,controlName:"menuParentId"},I=[{menuName:"create",menuGuid:"bd9b5bda6ab",navLocation:"/moduleman/menu/create",actionType:t.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db69c1",navLocation:"/moduleman/menu/dashboard",actionType:t.ActionType.navigate}]},65037:(L,C,i)=>{i.d(C,{AO:()=>p,GZ:()=>c,Qx:()=>T,Rf:()=>_,c_:()=>a,qh:()=>f,tL:()=>I,vk:()=>y});var n=i(30533),t=i(24388),h=i(76679);const D=new t.FormsService,T=[{title:"ID",name:"moduleId",dbName:"module_id",type:t.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"number",disabled:!0},{title:"Guid",name:"moduleGuid",dbName:"module_guid",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"moduleName",dbName:"module_name",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.text,fieldFor:t.FieldFor.createForm}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[n.Validators.minLength(4),n.Validators.maxLength(20),n.Validators.required]]},{title:"Description",name:"moduleDescription",dbName:"module_description",type:t.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.text,fieldFor:t.FieldFor.tableDisplay},{controlType:t.ControlType.textArea,fieldFor:t.FieldFor.createForm}],formatt:"textArea",savable:!0,formControlsConfig:["",[n.Validators.minLength(0),n.Validators.maxLength(300)]]},{title:"Enabled",name:"moduleEnabled",dbName:"module_enabled",type:t.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.status,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Sys",name:"isSysModule",dbName:"is_sys_module",type:t.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:t.ControlType.status,fieldFor:t.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[n.Validators.required]]},{title:"System Module",name:"isSys",controls:[{controlType:t.ControlType.toggleSwitch,fieldFor:t.FieldFor.createForm}],primaryField:"isSysModule",formControlsConfig:["",[]]},{title:"App Module",name:"isApp",controls:[{controlType:t.ControlType.toggleSwitch,fieldFor:t.FieldFor.createForm}],primaryField:"isSysModule",formControlsConfig:["",[]]},{title:"Action",name:"action",type:t.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:t.ControlType.action,fieldFor:t.FieldFor.createForm},{controlType:t.ControlType.action,fieldFor:t.FieldFor.tableDisplay}]}],y={controllerName:"isSysModule",selectedItem:{index:0,optControlId:"",value:"",selected:!1},controlTypes:t.ControlType.toggleSwitch,options:[{index:0,optControlId:"isSys",value:"isSys",selected:!0},{index:1,optControlId:"isApp",value:"isApp",selected:!1}]},_={valid:null,data:{},ctx:"Sys"},a={token:"",stepTitle:"Create Module",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"moduleInfo",cardTitle:"Module Information",cardTitleDesc:"Fill all information below",module:"moduleman",controller:"module",formGroup:null,fields:D.filterByFieldFor(T,t.FieldFor.createForm)},c={name:"Module Wizard",steps:[a,h.pt]},p=[{menuName:"create",menuGuid:"bd9b5bda5ab",navLocation:"/moduleman/module/create",actionType:t.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db59c1",navLocation:"/moduleman/module/dashboard",actionType:t.ActionType.navigate}],f={select:["moduleId","moduleName","moduleGuid"],where:{}},I={getFn$:null,selIndex:f.select[0],selValueField:f.select[1],fetchFields:f.select,step:null,token:null,controlName:"moduleId"}},95855:(L,C,i)=>{i.d(C,{v:()=>y});var n=i(33635),t=i(87675),h=i(24388);class y{constructor(d,a,c){this.svMenu=d,this.svNotif=a,this.svForm=c,this.ddlData={config:{suppressScrollX:!0,wheelSpeed:.3},header:{title:{lable:"Notifications",cls:"",action:null},sideLink:{lable:"View All",cls:"",action:null}},footer:{label:"View All",icon:"",action:null},data:[{label:"item 1",description:"If several languages coalesce the grammar",time:"3 min ago"},{label:"item 2",description:"It will seem like simplified English",time:"1 hr ago"},{label:"item 3",description:"If several languages coalesce the grammar",time:"4 hr ago"}]},this.pushEnvelop={pushRecepients:[],pushData:null,emittEvent:"push-notif",triggerEvent:"send-notif",req:null,resp:null},this.numericNumberReg1="^-?[0-9]\\d*(\\.\\d{1,2})?$",this.numericNumberReg2="/^[0-9]d*$/",this.numericNumberReg3=new RegExp(/^-?[0-9]\\d*(\\.\\d{1,2})?$/,"i"),this.numericNumberReg4=new RegExp(/^[0-9]\d*$/,"i")}setIconsData$(d,a){d.fields.map((c,p)=>{c.name===a&&(d.fields[p].ddlInfo.selData$=(0,n.of)(this.ddlData),d.fields[p].ddlInfo.selIndex="iconId",d.fields[p].ddlInfo.selValueField="iconName",d.fields[p].ddlInfo.selPlaceholder="...Choose")})}setDdl$(d){if(d.token){const a=new n.Subject;let c=[];return d.getFn$.subscribe(p=>{const f=p;console.log("ModulemanService::setDdl$()/response:",f),console.log("ModulemanService::setDdl$()/ddlCtx.step.fields:",d.step),f.app_state.success?(c=f.data.items,d.step.fields.map((I,S)=>{console.log("ModulemanService::setDdl$()/f.name1:",I.name),console.log("ModulemanService::setDdl$()/ddlCtx.controlName:",d.controlName),console.log("ModulemanService::setDdl$()/f:",I),I.name===d.controlName&&"ddlInfo"in I&&(console.log("ModulemanService::setDdl$()/f.name2:",I.name),d.step.fields[S].ddlInfo.selData$=(0,n.of)(f.data.items),d.step.fields[S].ddlInfo.selIndex=d.selIndex,d.step.fields[S].ddlInfo.selValueField=d.selValueField,d.step.fields[S].ddlInfo.selPlaceholder="...Choose")}),a.next(c)):(this.pushEnvelop.pushData=f,this.pushEnvelop.resp=f,this.svNotif.emitNotif(this.pushEnvelop),a.next(c))}),a.asObservable()}return(0,n.of)([])}}y.\u0275fac=function(d){return new(d||y)(t.\u0275\u0275inject(h.MenuService),t.\u0275\u0275inject(h.NotificationService),t.\u0275\u0275inject(h.FormsService))},y.\u0275prov=t.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"})},92526:(L,C,i)=>{i.d(C,{N:()=>T});const n="https://cd-api.co.ke",T={appId:"",production:!1,apiEndpoint:`${n}:3001/api`,sioEndpoint:`${n}:3002`,wsEndpoint:"ws://cd-api.co.ke:3000",wsMode:"sio",pushConfig:{sio:{enabled:!0},wss:{enabled:!1},pusher:{enabled:!0,apiKey:"DtVRY9V5j41KwSxKrd8L_dRijUJh9gVcqwBH5wb96no",options:{cluster:"ap2",forceTLS:!0,userAuthentication:{endpoint:"https://cd-api.co.ke:3002/pusher/auth",transport:"ajax",params:{},headers:{},includeCredentials:!0,customHandler:null},channelAuthorization:{endpoint:"https://cd-api.co.ke:3002/pusher/auth"},authEndpoint:"https://cd-api.co.ke:3002/pusher/auth"}}},CD_PORT:3001,consumerToken:"B0B3DA99-1859-A499-90F6-1E3F69575DCD",USER_RESOURCES:"http://routed-93/user-resources",apiHost:"https://cd-api.co.ke",sioHost:"https://cd-api.co.ke",shellHost:"https://asdap.net",consumer:"",clientAppGuid:"ca0fe39f-92b2-484d-91ef-487d4fc462a2",clientContext:{entity:"ASDAP",clientAppId:2,consumerToken:"B0B3DA99-1859-A499-90F6-1E3F69575DCD"},clientAppId:2,SOCKET_IO_PORT:3002,defaultauth:"cd-auth",initialPage:"dashboard",mfManifestPath:"/assets/mf.manifest.json",apiOptions:{headers:{"Content-Type":"application/json"}},sioOptions:{path:"/socket.io",transports:["websocket","polling"],secure:!0},firebaseConfig:{apiKey:"",authDomain:"",databaseURL:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""}}},15861:(L,C,i)=>{function n(t,F,h,D,T,y,_){try{var d=t[y](_),a=d.value}catch(c){return void h(c)}d.done?F(a):Promise.resolve(a).then(D,T)}function m(t){return function(){var F=this,h=arguments;return new Promise(function(D,T){var y=t.apply(F,h);function _(a){n(y,D,T,_,d,"next",a)}function d(a){n(y,D,T,_,d,"throw",a)}_(void 0)})}}i.d(C,{Z:()=>m})}}]);